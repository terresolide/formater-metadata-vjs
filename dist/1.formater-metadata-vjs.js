(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{282:function(t,e,a){var n=a(295);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),(0,a(3).default)("0fcdb10f",n,!0,{})},283:function(t,e){t.exports=function(t){t.options.__i18n='{"en":{},"fr":{}}'}},284:function(t,e,a){var n=a(298);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),(0,a(3).default)("0c9fcd32",n,!0,{})},285:function(t,e){t.exports=function(t){t.options.__i18n='{"en":{"resource_contact":"Resource Contact | Resource Contacts","metadata_contact":"Metadata Contact | Metadata Contacts"},"fr":{"resource_contact":"Contact pour les données| Contacts pour les données","metadata_contact":"Contact pour les métadonnées | Contacts pour les métadonnées"}}'}},286:function(t,e,a){var n=a(301);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),(0,a(3).default)("25b135e7",n,!0,{})},287:function(t,e,a){var n=a(303);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),(0,a(3).default)("36d00ec7",n,!0,{})},288:function(t,e){t.exports=function(t){t.options.__i18n='{"en":{"export":"Export","exportJSON":"Export JSON","exportXML":"Export XML","exportPDF":"Export PDF"},"fr":{"export":"Export","exportJSON":"Export JSON","exportXML":"Export XML","exportPDF":"Export PDF"}}'}},289:function(t,e){t.exports=function(t){t.options.__i18n='{"en":{"creationDate":"Date (create)"},"fr":{"creationDate":"Date (création)"}}'}},290:function(t,e,a){var n=a(307);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),(0,a(3).default)("15d371a7",n,!0,{})},291:function(t,e){t.exports=function(t){t.options.__i18n='{"en":{"main":"Decription","complement":"Others informations","temporal_extent":"Temporal extent","search":"Search","full":"Complete"},"fr":{"main":"Decription","complement":"Informations complémentaires","temporal_extent":"Etendue temporelle","search":"Rechercher","full":"Complète"}}'}},294:function(t,e,a){"use strict";var n=a(282);a.n(n).a},295:function(t,e,a){(t.exports=a(2)(!1)).push([t.i,"\n.formater-contact{\n  font-size: 1em;\n  max-width:300px;\n  min-width:250px;\n  margin: 5px 10px;\n  float:left;\n  vertical-align:text-top;\n}\n.formater-contact h3 {\n\tmargin-bottom: 0px;\n}\n.formater-contact h3 + div {\n  margin-left:24px;\n  margin-bottom: 5px;\n}\n.formater-contact address{\n  margin-left:16px;\n}\n.formater-contact .formater-organism{\n  font-weight: 800;\n}\n",""])},296:function(t,e,a){"use strict";var n=a(283),s=a.n(n);e.default=s.a},297:function(t,e,a){"use strict";var n=a(284);a.n(n).a},298:function(t,e,a){(t.exports=a(2)(!1)).push([t.i,"\n.mtdt-metadata .fmt-contacts h3{\n    margin:0 0 8px 0;\n}\n.mtdt-metadata div.mtdt-contacts > div{\n  margin-left:30px;\n}\n\n",""])},299:function(t,e,a){"use strict";var n=a(285),s=a.n(n);e.default=s.a},300:function(t,e,a){"use strict";var n=a(286);a.n(n).a},301:function(t,e,a){(t.exports=a(2)(!1)).push([t.i,"\n.mtdt-quicklooks{\n  position: relative;\n   float:left;\n   max-width: 340px;\n   max-height:260px;\n   background: #ddd;\n   margin: 0px 15px 10px 0;\n}\n.mtdt-quicklooks div.wrapper{\n   text-align:center;\n   max-width: 340px;\n   max-height:260px;\n   line-height:260px;\n   margin:auto;\n   width: 340px;\n   height: 260px;\n}\n.mtdt-quicklooks div.wrapper div{\n  display:none;\n}\n.mtdt-quicklooks div.wrapper .selected{\n  display:inline-block;\n  text-align:center;\n  vertical-align: middle;\n  margin:auto;\n}\n.mtdt-quicklooks img{\n  width:100%;\n  max-width:320px;\n  max-height:260px;\n  display:block;\n  vertical-align:middle;\n}\n.mtdt-quicklooks .fa-chevron-circle-right,\n.mtdt-quicklooks .fa-chevron-circle-left{\n  position: absolute;\n  font-size:40px;\n  top: 110px;\n  z-index:1;\n  opacity:0;\n}\n.mtdt-quicklooks:hover .fa {\n   opacity:0.3\n}\n.mtdt-quicklooks .fa-chevron-circle-right:hover,\n.mtdt-quicklooks .fa-chevron-circle-left:hover{\n  opacity: 0.7;\n}\n.mtdt-metadata .mtdt-quicklooks .fa-chevron-circle-right{\n  right:1px;\n  margin-right:0;\n}\n.mtdt-metadata .mtdt-quicklooks .fa-chevron-circle-left{\n  left:1px;\n  margin-left:0;\n}\n",""])},302:function(t,e,a){"use strict";var n=a(287);a.n(n).a},303:function(t,e,a){(t.exports=a(2)(!1)).push([t.i,"\n.mtdt-export-links{\n  float:right;\n  margin-right:10px;\n}\n.mtdt-tab-export{\n  min-width: 80px;\n  text-align:center;\n}\n.mtdt-export-links div.mtdt-expand{\n  display: none;\n  text-align: center;\n  position:absolute;\n  min-width:102px;\n  z-index: 10;\n}\n.mtdt-export-links div.mtdt-expand div{\n   line-height:2;\n   padding: 3px 0;\n   background: #eee;\n   border:1px dotted grey;\n   border-top:0px;\n}\n.mtdt-export-links a{\n   color: black;\n   text-decoration:none;\n}\n.mtdt-export-links div.mtdt-expand div:hover{\n   background: #ccc;\n}\n.mtdt-tab-export:hover + div.mtdt-expand,\n.mtdt-export-links .mtdt-expand:hover{\n  display: block;\n}\n",""])},304:function(t,e,a){"use strict";var n=a(288),s=a.n(n);e.default=s.a},305:function(t,e,a){"use strict";var n=a(289),s=a.n(n);e.default=s.a},306:function(t,e,a){"use strict";var n=a(290);a.n(n).a},307:function(t,e,a){(t.exports=a(2)(!1)).push([t.i,"\n.mtdt-metadata{\n  position:relative;\n  padding: 0px 5px 300px 5px;\n  max-width: 100%;\n  margin: auto;\n  padding-bottom: 600px;\n  height: auto;\n  overflow: hidden;\n}\n.mtdt-metadata .mtdt-column-left{\n  width:calc(100% - 330px);\n  padding-left: 10px;\n}\n.mtdt-metadata .mtdt-column-right{\n  width: 300px;\n  background: #eee;\n  min-height:500px;\n  margin:0 10px 0 0;\n}\n.mtdt-metadata span.mtdt-metadata-close{\n  position: absolute;\n  top:3px;\n  right:5px;\n  cursor: pointer;\n  opacity:0.5;\n}\n.mtdt-metadata span.mtdt-metadata-close:hover{\n  opacity:1;\n}\n.mtdt-metadata h1.mtdt-metadata-header div{\n  float:left;\n  max-width:calc(100% - 150px);\n  display:inline-block;\n}\n.mtdt-metadata h1.mtdt-metadata-header i.fa{\n  float:left;\n}\n.mtdt-metadata i.fa {\n  margin-right: 12px;\n}\n.mtdt-metadata h1,\n.mtdt-metadata h2,\n.mtdt-metadata h3,\n.mtdt-metadata h4{\n  max-width: 100%;\n  color:#754a15;\n}\n.mtdt-metadata h2 {\n\n  font-size: 1.1rem;\n  margin: 20px 0 0 0;\n}\n.mtdt-metadata h1{\n  font-size:1.5rem;\n}\n.mtdt-metadata h3,\n.mtdt-metadata h4{\n  font-size: 1rem;\n}\n.mtdt-metadata div.mtdt-tab,\n.mtdt-metadata .mtdt-tab-export{\n  display:inline-block;\n  padding: 5px 10px;\n  border:1px dotted grey;\n  border-top:0px;\n  background: #eee;\n  cursor: pointer;\n}\n.mtdt-metadata div.mtdt-tab:hover,\n.mtdt-metadata .mtdt-tab-export:hover{\n   background: #ccc;\n}\n.mtdt-metadata div.mtdt-tab.selected{\n  background: #ddd;\n}\n.mtdt-metadata div.mtdt-description{\n  line-height:1.5;\n}\n.mtdt-metadata .mtdt-group-logo{\n  float:right;\n  margin-top:-5px;\n  margin-right: 15px;\n}\n.mtdt-metadata .mtdt-group-logo img{\n  max-width:100px; \n  height:40px;\n}\n.mtdt-metadata .mtdt-contacts h3{\n    margin-bottom:0;\n}\n.mtdt-metadata .mtdt-temporalExtent div{\n  margin: 5px 30px;\n}\n.mtdt-metadata .mtdt-temporalExtent i.fa.fa-long-arrow-right {\n  margin-left:12px;\n}\n",""])},308:function(t,e,a){"use strict";var n=a(291),s=a.n(n);e.default=s.a},312:function(t,e,a){"use strict";a.r(e);var n={name:"FormaterContact",components:{},props:{contact:{type:Array,default:[]}},data:function(){return{fields:null,address:[]}},mounted:function(){this.fields=this.contact,this.extractAddress()},methods:{extractAddress:function(){this.address=this.fields[7].split(",")}}},s=(a(294),a(1)),i=a(296),r=Object(s.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.fields?a("span",{staticClass:"formater-contact"},[a("address",[a("div",{staticClass:"formater-organism"},[t._v(t._s(t.fields[2]))]),t._v(" "),a("div",[a("a",{attrs:{href:"mailto:"+t.fields[4]}},[t._v(t._s(t.fields[4]))])]),t._v(" "),t.fields[3]?a("div",{staticClass:"formater-name"},[t._v(t._s(t.fields[3]))]):t._e(),t._v(" "),t._l(t.address,function(e,n){return a("div",[t._v(t._s(e))])})],2)]):t._e()},[],!1,null,null,null);"function"==typeof i.default&&Object(i.default)(r);var o={name:"FormaterListContact",components:{FormaterContact:r.exports},props:{responsibleParty:{type:Array,default:function(){return[]}},responsibleParty2:{type:Array,default:function(){return[]}}},watch:{responsibleParty2:function(t){this.updateContacts(t)}},data:function(){return{contacts:{metadata:{},resource:{}}}},created:function(){this.updateContacts(this.responsibleParty),this.updateContacts(this.responsibleParty2)},methods:{updateContacts:function(t){var e=this;t.forEach(function(t){var a=t.split("|");"metadata"===a[1]||"metadonnées"===a[1]?e.contacts.metadata[a[0]]?e.contacts.metadata[a[0]].push(a):e.contacts.metadata[a[0]]=[a]:e.contacts.resource[a[0]]?e.contacts.resource[a[0]].push(a):e.contacts.resource[a[0]]=[a]})}}},c=(a(297),a(299)),d=Object(s.a)(o,function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.responsibleParty||t.responsibleParty2?a("div",{staticClass:"mtdt-list-contact"},[t.contacts.resource?a("div",{staticClass:"mtdt-contacts"},[a("h2",{style:{color:t.$store.state.style.primary}},[a("i",{staticClass:"fa fa-users"}),t._v(t._s(t.$tc("resource_contact",Object.keys(t.contacts.resource).length)))]),t._v(" "),t._l(t.contacts.resource,function(e,n){return a("div",{key:n,staticStyle:{float:"left"}},[a("h3",{style:{color:t.$store.state.style.primary}},[a("i",{staticClass:"fa fa-user"}),t._v(t._s(t.$gn(n)))]),t._v(" "),t._l(e,function(t,e){return a("formater-contact",{key:e,attrs:{contact:t}})})],2)}),t._v(" "),a("div",{staticStyle:{clear:"both"}})],2):t._e(),t._v(" "),t.contacts.metadata?a("div",{staticClass:"mtdt-contacts"},[a("h2",{style:{color:t.$store.state.style.primary}},[a("i",{staticClass:"fa fa-users"}),t._v(t._s(t.$tc("metadata_contact",Object.keys(t.contacts.metadata).length)))]),t._v(" "),t._l(t.contacts.metadata,function(e,n){return a("div",{key:n},[a("h3",{style:{color:t.$store.state.style.primary}},[a("i",{staticClass:"fa fa-user"}),t._v(t._s(t.$gn(n)))]),t._v(" "),t._l(e,function(t,e){return a("formater-contact",{key:e,attrs:{contact:t}})})],2)})],2):t._e(),t._v(" "),a("div",{staticStyle:{clear:"both"}})]):t._e()},[],!1,null,null,null);"function"==typeof c.default&&Object(c.default)(d);var l=d.exports,m={name:"FormaterQuicklooks",components:{},props:{quicklooks:{type:String|Array,default:null}},data:function(){return{images:null,selected:0}},mounted:function(){this.images=this.quicklooks}},p=(a(300),Object(s.a)(m,function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.images?a("span",{staticClass:"mtdt-quicklooks"},[t.selected>0?a("i",{staticClass:"fa fa-chevron-circle-left",on:{click:function(e){t.selected-=1}}}):t._e(),t._v(" "),t.images.length>0&&t.selected<t.images.length-1?a("i",{staticClass:"fa fa-chevron-circle-right",on:{click:function(e){t.selected+=1}}}):t._e(),t._v(" "),a("div",{staticClass:"wrapper"},t._l(t.images,function(e,n){return a("div",{key:n,class:{selected:t.selected===n}},[a("img",{attrs:{src:e[1],alt:e[2]}})])}),0)]):t._e()},[],!1,null,null,null).exports),u={name:"FormaterExportLinks",props:{exportLinks:{type:Object,default:function(){}}}},f=(a(302),a(304)),h=Object(s.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.exportLinks.xml||t.exportLinks.pdf||t.exportLinks.json?a("span",{staticClass:"mtdt-export-links"},[a("div",{staticClass:"mtdt-tab-export"},[a("i",{staticClass:"fa fa-chevron-down"}),t._v(" "),a("span",{},[t._v(t._s(t.$t("export")))])]),t._v(" "),a("div",{staticClass:"mtdt-expand"},[t.exportLinks.json?a("div",[a("a",{attrs:{href:t.exportLinks.json,target:"_blank"}},[t._v(t._s(t.$t("exportJSON")))])]):t._e(),t._v(" "),t.exportLinks.xml?a("div",[a("a",{attrs:{href:t.exportLinks.xml,target:"_blank"}},[t._v(t._s(t.$t("exportXML")))])]):t._e(),t._v(" "),t.exportLinks.pdf?a("div",[a("a",{attrs:{href:t.exportLinks.pdf,target:"_blank"}},[t._v(t._s(t.$t("exportPDF")))])]):t._e()])]):t._e()},[],!1,null,null,null);"function"==typeof f.default&&Object(f.default)(h);var x=h.exports,v=a(0),g=a.n(v),_=a(204),k={name:"FormaterMetadataContent",props:{metadata:{type:Object,default:null}}},b=a(305),y=Object(s.a)(k,function(){var t=this.$createElement;return(this._self._c||t)("span",{staticClass:"mtdt-content"})},[],!1,null,null,null);"function"==typeof b.default&&Object(b.default)(y);var C=y.exports,w={name:"FormaterMetadata",components:{FormaterListContact:l,FormaterQuicklooks:p,FormaterExportLinks:x,FormaterPaging:function(){return Promise.resolve().then(a.bind(null,208))},FormaterListMetadata:function(){return Promise.resolve().then(a.bind(null,207))},FormaterOpensearch:function(){return a.e(4).then(a.bind(null,313))},FormaterRelated:_.a,FormaterFullMetadata:function(){return a.e(3).then(a.bind(null,315))},FormaterMetadataContent:C},props:{metadata:{type:Object,default:null},depth:{type:Number,default:0}},watch:{metadata:{immediate:!0,handler:function(t){this.computeHasChild(t)}}},data:function(){return{tabs:{search:!1,main:!0,full:!1},uuid:null,currentTab:"main",meta:null,hasChild:!1,metaLang2:{},popstateListener:null,keydownListener:null,describe:null,type:"geonetwork"}},created:function(){g.a.locale(this.$i18n.locale),this.metadata["geonet:info"]?(this.uuid=this.metadata["geonet:info"].uuid,this.tabs.full=!0):(this.uuid=this.metadata.id,this.type="opensearch"),this.popstateListener=this.close.bind(this),document.addEventListener("popstate",this.popstateListener),this.keydownListener=this.checkEscape.bind(this),document.addEventListener("keydown",this.keydownListener)},mounted:function(){this.metadata&&(this.meta=this.metadata,this.computeHasChild(this.metadata),this.fillMetadata())},destroyed:function(){document.removeEventListener("popstate",this.popstateListener),this.popstateListener=null,document.removeEventListener("keydown",this.keydownListener),this.keydownListener=this.checkEscape.bind(this)},methods:{date2str:function(t){return g()(t,"YYYY-MM-DD").format("ll")},checkEscape:function(t){("key"in(t=t||window.event)?"Escape"===t.key||"Esc"===t.key:27===t.keyCode)&&this.close(t)},close:function(t){t.preventDefault(),this.$emit("close")},computeHasChild:function(t){t.related&&t.related.children?this.hasChild||this.setHasChild(!0):t.api?this.hasChild||(this.describe=t.api.http):this.setHasChild(!1)},setParameters:function(t){this.metadata.osParameters=t.parameters,this.metadata.mapping=t.mapping,this.setHasChild(!0)},setHasChild:function(t){if(console.log("type = ",this.type),this.hasChild=t,this.$set(this.tabs,"search",t),t){this.currentTab="search";var e=this.describe?"opensearch":"geonetwork";this.metadata.disableType=e,this.$store.commit("parametersChange",{parameters:this.metadata.osParameters,mapping:this.metadata.mapping,type:e}),this.getRecords()}else this.metadata.disableType="noChild",this.$store.commit("parametersChange",{parameters:[],mapping:[],type:"noChild"})},fillMetadata:function(){this.meta["geonet:info"]?this.uuid=this.meta["geonet:info"].uuid:this.uuid=this.meta.id},getRecords:function(){}}},L=(a(306),a(308)),E=Object(s.a)(w,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mtdt-metadata mtdt-capsule"},[a("span",{staticClass:"mtdt-metadata-close fa fa-close",on:{click:t.close}}),t._v(" "),t.meta?a("div",[a("h1",{staticClass:"mtdt-metadata-header",style:{color:t.$store.state.style.primary}},[t.meta.groupWebsite?a("a",{staticClass:"mtdt-group-logo",attrs:{href:t.meta.groupWebsite,title:t.$gn("group-"+t.meta.groupOwner),starget:"_blank"}},[a("img",{attrs:{src:t.meta.logo}})]):a("a",{staticClass:"mtdt-group-logo",attrs:{href:"#",alt:t.$gn("group-"+t.meta.groupOwner),title:t.$gn("group-"+t.meta.groupOwner)}},[a("img",{attrs:{src:t.meta.logo}})]),t._v(" "),["dataset","series"].indexOf(t.meta.type)>=0?a("i",{staticClass:"fa",class:"series"===t.meta.type?"fa-files-o":"fa-file"}):t._e(),t._v(" "),a("div",[t._v("\n         \n         "+t._s(t.meta.title?t.meta.title:t.meta.defaultTitle)+"\n         ")])]),t._v(" "),a("hr",{staticStyle:{border:"1px solid grey","margin-bottom":"0px",clear:"both"}}),t._v(" "),a("div",{staticClass:"mtdt-tabs"},[t._l(t.tabs,function(e,n){return!0===e?a("div",{staticClass:"mtdt-tab",class:{selected:t.currentTab===n},on:{click:function(e){t.currentTab=n}}},[t._v(t._s(t.$t(n)))]):t._e()}),t._v(" "),t.meta.exportLinks?a("formater-export-links",{attrs:{"export-links":t.meta.exportLinks}}):t._e()],2),t._v(" "),t.describe?a("formater-opensearch",{attrs:{describe:t.describe,uuid:t.uuid,depth:t.depth},on:{parametersChange:t.setParameters}}):t._e(),t._v(" "),t.tabs.search?a("div",{directives:[{name:"show",rawName:"v-show",value:"search"===t.currentTab,expression:"currentTab === 'search'"}]},[a("formater-paging",{attrs:{uuid:t.uuid,depth:t.depth,type:t.describe?"opensearch":"geonetwork"}}),t._v(" "),a("formater-list-metadata",{attrs:{depth:t.depth}})],1):t._e(),t._v(" "),"main"===t.currentTab?a("div",{staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"mtdt-column-left"},[a("div",{staticClass:"mtdt-description"},[a("formater-quicklooks",{attrs:{quicklooks:t.meta.images}}),t._v(" "),a("span",{domProps:{innerHTML:t._s(t.meta.description)}})],1),t._v(" "),a("formater-metadata-content",{attrs:{metadata:t.meta}}),t._v(" "),a("div",{staticStyle:{clear:"both"}},[a("formater-list-contact",{attrs:{"responsible-party":t.meta.responsibleParty,"responsible-party2":t.metaLang2.responsibleParty}})],1),t._v(" "),t.meta.tempExtentBegin?a("div",{staticClass:"mtdt-temporalExtent",staticStyle:{clear:"both"}},[a("h2",{style:{color:t.$store.state.style.primary}},[a("i",{staticClass:"fa fa-clock-o"}),t._v(t._s(t.$t("temporal_extent")))]),t._v(" "),a("div",[t._v("\n               "+t._s(t.date2str(t.meta.tempExtentBegin))+"\n               "),a("i",{staticClass:"fa fa-long-arrow-right"}),t._v("\n               "+t._s(t.date2str(t.meta.tempExtentEnd))+"\n           ")])]):t._e()],1),t._v(" "),a("div",{staticClass:"mtdt-column-right"},[a("formater-related",{attrs:{type:"metadata",download:t.meta.download,id:t.meta.id,layers:t.meta.layers,links:t.meta.links,related:t.meta.related}})],1)]):t._e(),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"full"===t.currentTab,expression:"currentTab === 'full'"}]},[a("formater-full-metadata",{attrs:{uuid:t.uuid}})],1)],1):t._e()])},[],!1,null,null,null);"function"==typeof L.default&&Object(L.default)(E),e.default=E.exports}}]);
//# sourceMappingURL=1.formater-metadata-vjs.js.map
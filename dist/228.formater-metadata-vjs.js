(self.webpackChunkformater_metadata_vjs=self.webpackChunkformater_metadata_vjs||[]).push([[228],{7773:e=>{e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"fr":{"command_to_execute":"Commande curl à executer pour télécharger cette archive","copied_clipboard":"La commande a été enregistrée dans votre presse-papier.","copy_clipboard":"Copier la commande dans le presse-papier","title":"Télécharger en ligne de commande avec curl"},"en":{"command_to_execute":"Curl command to execute to download this archive","copied_clipboard":"The command has been copied in clipboard.","copy_clipboard":"Copy the command in clipboard","title":"Download from command line with curl"}}'),delete e.options._Ctor}},195:(e,t,o)=>{(t=o(3645)(!1)).push([e.id,"\n.fmt-console[data-v-cc8eaefc] {\n   position: fixed;\n   top: 50%;\n   left: 50%;\n   z-index:3;\n   background: white;\n   width:90%;\n   max-width: 900px;\n   padding:10px;\n   word-break: break-all;\n   transform: translate(-50%, -50%);\n   border-radius: 3px;\n   box-shadow: 2px 3px 3px 3px rgba(0, 0, 0, 0.5);\n}\n.fmt-close[data-v-cc8eaefc] {\n  border:1px dotted white;\n  padding: 3px;\n  border-radius:3px;\n  cursor: pointer;\n}\n.fmt-close[data-v-cc8eaefc]:hover {\n  border-color:black;\n}\na.tooltip-show + .clipboard-tooltip[data-v-cc8eaefc] {\n  display:block;\n}\n",""]),e.exports=t},5228:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>r});const i={name:"FormaterCommandLine",data:function(){return{href:null,token:null,file:null,commandEventListener:null}},created:function(){this.commandEventListener=this.receiveEvent.bind(this),document.addEventListener("fmt:commandEvent",this.commandEventListener)},destroyed:function(){document.removeEventListener("fmt:commandEvent",this.commandEventListener),this.commandEventListener=null},methods:{close:function(){this.href=null,this.token=null,this.file=null},copy2clipboard:function(e){console.log("copy to clipboard");var t=e.target,o="curl "+this.href+"?_bearer="+this.token+" -o "+this.file;navigator.clipboard.writeText(o).then((function(){t.classList.add("tooltip-show"),setTimeout((function(){t.classList.remove("tooltip-show")}),6e3)}),(function(){alert(i.$i18n.t("unauthorized_clipboard"))}));var i=this},receiveEvent:function(e){this.href=e.detail.link.url,this.token=e.detail.token;var t=this.href.substring(this.href.lastIndexOf("/")+1);new RegExp("/.[^.]+$/"),t.match(/\.[^.]+$/)?this.file=t:e.detail.link.mimeType?(console.log(e.detail.link.mimeType),"application/zip"===e.detail.link.mimeType.toLowerCase()?this.file=e.detail.title+".zip":(this.file=null,this.href=null,this.token=null)):(this.file=null,this.href=null,this.token=null)},removeTooltip:function(){var e=this.$el.querySelector(".tooltip-show");e&&e.classList.remove("tooltip-show")}}};o(2661);var n=o(1900),a=o(7773);const l=o.n(a)();var c=(0,n.Z)(i,(function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.href,expression:"href"}],staticClass:"fmt-console"},[t("div",{staticClass:"fmt-close",staticStyle:{position:"absolute",right:"5px",top:"3px"},on:{click:e.close}}),e._v(" "),t("h3",[e._v(e._s(e.$t("title")))]),e._v(" "),t("div",[t("div",[t("b",[e._v("Archive")]),e._v(": "+e._s(e.file))]),e._v(" "),t("div",[t("b",[e._v(e._s(e.$t("command_to_execute"))+":")])]),e._v(" "),t("div",{staticStyle:{display:"inline-block","font-family":"monospace","max-height":"200px",overflow:"scroll",padding:"3px",width:"calc(100% - 100px)",color:"#5ddc5d",background:"#333"}},[e._v("\n\t  curl "+e._s(e.href)+"?_bearer="+e._s(e.token)+" -o "+e._s(e.file)+"\n\t  ")]),e._v(" "),t("div",{staticStyle:{display:"inline-block","vertical-align":"top","max-width":"90px"}},[t("a",{staticClass:"fmt-button fa fa-clipboard",attrs:{title:e.$t("copy_clipboard")},on:{click:function(t){return e.copy2clipboard(t)}}},[e._v(" Copier")]),e._v(" "),t("div",{staticClass:"clipboard-tooltip",on:{click:e.removeTooltip}},[e._v(e._s(e.$t("copied_clipboard")))])])])])}),[],!1,null,"cc8eaefc",null);"function"==typeof l&&l(c);const r=c.exports},2661:(e,t,o)=>{var i=o(195);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals),(0,o(5346).Z)("15920365",i,!0,{})}}]);
//# sourceMappingURL=228.formater-metadata-vjs.js.map
(self.webpackChunkformater_metadata_vjs=self.webpackChunkformater_metadata_vjs||[]).push([[703],{127:t=>{t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"contact":"Contact | Contacts","children":"Children","localize":"Localize on the map","display_layer":"Display the layer on the map","download_data":"Download data","now":"Now","obsolete":"Obsolete","completed":"Completed","historicalArchive":"Archived","planned":"Planned","onGoing":"On going","underDevelopment":"Under development"},"fr":{"contact":"Contact | Contacts","children":"Fiches Enfants","localize":"Localiser sur la carte, cliquer pour garder la position","display_layer":"Afficher sur la carte","download_data":"Télécharger les données","now":"Maintenant","obsolete":"Obsolète","completed":"Finalisé","historicalArchive":"Archivé","planned":"Planifié","onGoing":"En cours","underDevelopment":"En cours de création"}}'),delete t.options._Ctor}},9263:t=>{t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"draw_bbox":"Draw a bounding box"},"fr":{"draw_bbox":"Dessiner / Modifier les limites sur la carte"}}'),delete t.options._Ctor}},2034:t=>{t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"search":"Search ...","reset":"Reset search","time_slot":"Time slot","spatial_extent":"Spatial extent","groupOwners":"Data center","gemetKeywords":"Inspire Gemet Keywords","formaterVariable":"Variables","formaterDiscipline":"Disciplines","formaterPlatform":"Platforms","parameters":"Parameters"},"fr":{"search":"Rechercher ...","reset":"Initialiser","time_slot":"Intervalle temporel","spatial_extent":"Zone géographique","groupOwners":"Centre de données","gemetKeywords":"Inspire Gemet Keywords","formaterVariable":"Variables","formaterDiscipline":"Disciplines","formaterPlatform":"Plateformes","parameters":"Paramètres"}}'),delete t.options._Ctor}},7479:t=>{t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"no_result":"No record for this request"},"fr":{"no_result":"Aucune fiche ne correspond!"}}'),delete t.options._Ctor}},6560:t=>{t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"all_box":"All bbox"},"fr":{"all_box":"Les bbox"}}'),delete t.options._Ctor}},8669:t=>{t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"download":"Download","information":"Information","offlineAccess":"Off line acess","order":"Order","search":"Search"},"fr":{"contact":"Contact | Contacts","children":"Fiches Enfants"}}'),delete t.options._Ctor}},8595:t=>{t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"results":"Results: {from} to {to} among {notExactly}{count}","title":"Title","relevance":"Relevance","changeDate":"Change date","popularity":"Popularity","sortBy":"Order by","per_page":"per page"},"fr":{"results":"Résultats: <strong>{from}</strong> à <strong>{to}</strong> sur {notExactly}{count}","title":"Titre","relevance":"Pertinence","changeDate":"Mise à jour","popularity":"Popularité","sortBy":"Trier par","per_page":"par page"}}'),delete t.options._Ctor}},1333:t=>{t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"platform":"Platform | Platforms"},"fr":{"platform":"Plateforme | Plateformes"}}'),delete t.options._Ctor}},8055:t=>{t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"localize":"Localize on the map","command_line":"Download from command line","display_layer":"Display the layer on the map","download_data":"Download data","download_forbidden":"Forbidden download","platform":"Platform | Platforms","order_data":"Order data"},"fr":{"localize":"Localiser sur la carte, cliquer pour garder la position","command_line":"Télécharger en ligne de commande","display_layer":"Afficher sur la carte","download_data":"Télécharger les données","download_forbidden":"Téléchargement interdit","platform":"Plateforme | Plateformes","order_data":"Commander les données"}}'),delete t.options._Ctor}},9639:t=>{t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"north_symbol":"N","east_symbol":"E","south_symbol":"S","west_symbol":"W","reset":"Reset","draw":"Draw","titleLatitude":"Latitude must be a number between -90° and 90° (ex: 65.3)","titleLongitude":"Longitude must be a number between -180° and 180° (ex: -110.3)"},"fr":{"north_symbol":"N","east_symbol":"E","south_symbol":"S","west_symbol":"O","reset":"Initialiser","draw":"Dessiner","titleLatitude":"La latitude doit être un nombre compris entre -90° et 90° (ex: 65.3)","titleLongitude":"La longitude doit être comprise entre -180° et 180° (ex: -110.3)"}}'),delete t.options._Ctor}},8415:t=>{t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"now":"Now"},"fr":{"now":"Aujourd\'hui"}}'),delete t.options._Ctor}},8687:t=>{L.Control.Fmtlayer=L.Control.Layers.extend({options:{position:"topleft"},bbox:null,tiles:{osm:{name:"OSM",url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'},arcgisTopo:{name:"ArcGIS",url:"//server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",attribution:'Tiles © <a href="https://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer">ArcGIS</a>'}},initialize:function(t,e,a){for(var n in L.Control.Layers.prototype.initialize.call(this,t,e,a),this.tiles){var i=L.tileLayer(this.tiles[n].url,{attribution:this.tiles[n].attribution});this.tiles[n].layer=i,this.addBaseLayer(i,this.tiles[n].name)}},addBboxLayer:function(){this.bbox=L.layerGroup(),this.bbox.addTo(this._map),this.addOverlay(this.bbox,"bbox",!0)},setBboxLayer:function(t){this.bbox?this.bbox.clearLayers():this.addBboxLayer(),t&&this.bbox.addLayer(t)},removeBboxLayer:function(){this.bbox&&this.bbox.clearLayers()}}),t.exports=L.Control.Fmtlayer},6957:t=>{L.Control.Reset=L.Control.extend({options:{position:"topleft"},_bounds:null,_lang:"en",_translate:{en:{reset:"Reset Map"},fr:{reset:"Initialiser"}},initialize:function(t,e){this._bounds=t,this._lang=["en","fr"].indexOf(e)>=0?e:"en"},setLang:function(t){this._lang=["en","fr"].indexOf(t)>=0?t:"en",this._container.querySelector("a").setAttribute("title",this._translate[this._lang].reset)},setBounds:function(t){this._bounds=t},onAdd:function(t){var e=L.DomUtil.create("div","leaflet-bar leaflet-control lfh-control-refresh"),a=L.DomUtil.create("a","fa fa-dot-circle-o");a.setAttribute("title",this._translate[this._lang].reset),e.appendChild(a);var n=this;return a.onclick=function(){t.fitBounds(n._bounds)},e},OnRemove:function(){}}),t.exports=L.Control.Reset},2980:(t,e,a)=>{(e=a(3645)(!1)).push([t.id,"\n.mtdt-cartouche-metadata{\n  position: relative;\n  font-size: 15px;\n/*  width: calc(30% - 15px);*/\n  max-width: 450px;\n  min-width: 320px;\n  margin: 5px;\n  height: 250px;\n  max-height:250px;\n  text-align:left;\n  display: inline-block;\n  float:left;\n}\n.mtdt-cartouche-metadata .summary td {\n    font-size:0.8rem;\n}\n.mtdt-cartouche-metadata div.mtdt-header{\n  color: white;\n  background-color: #dd9946;\n  margin: 0;\n  font-weight:600;\n  font-size: 1.1em;\n  min-height:34px;\n  max-height:34px;\n  padding: 5px;\n  cursor: pointer;\n  overflow: hidden;\n}\n/*.mtdt-cartouche-metadata.mtdt-child div.mtdt-header{\n  color: #9e631d;\n  background-color: white;\n}*/\n.mtdt-cartouche-metadata div.mtdt-header div{\n    display:inline-block;\n    float:left;\n    width:calc(100% - 15px);\n    margin-left: 7px;\n    \n    overflow: hidden;\n    max-height:33px;\n    word-break: break-all;\n}\n.mtdt-cartouche-metadata div.mtdt-header i + div {\n    width:calc(100% - 28px);\n}\n.mtdt-cartouche-metadata div.mtdt-header i.fa{\n    float:left;\n    vertical-align:middle;\n    font-size: 18px;\n    margin-right: 0;\n}\n.mtdt-cartouche-metadata div.mtdt-description{\n    max-height:157px;\n    overflow:hidden;\n    padding: 5px;\n    font-size:15px;\n}\n.mtdt-cartouche-metadata.mtdt-child div.mtdt-description{\n   max-height: 170px;\n}\n.mtdt-cartouche-metadata div.mtdt-description img {\n  position: relative;\n   max-width: 110px;\n   max-height:80px;\n   display:block;\n   background: #ddd;\n   margin: 0px 15px 3px 0;\n}\n.mtdt-cartouche-metadata .mtdt-cartouche-elt{\n   margin-bottom: 0px;\n}\n.mtdt-cartouche-metadata .mtdt-footer{\n  position: absolute;\n  margin: 0 2px;\n  bottom:0;\n  width:100%;\n  min-height: 28px;\n  -webkit-box-sizing: content-box;\n  box-sizing: content-box;\n}\n.mtdt-cartouche-metadata .mtdt-footer > div{\n  display: inline-block;\n}\n.mtdt-cartouche-metadata .mtdt-footer .mtdt-group-logo img{\n  max-width:80px;\n  max-height:25px;\n}\n.mtdt-cartouche-metadata .mtdt-resource{\n   background:white;\n   position:absolute;\n   padding: 3px 5px;\n   max-height: 100px;\n   overflow: hidden;\n   z-index:8000;\n}\n.mtdt-cartouche-metadata .mtdt-resource:hover {\n  max-height:none;\n}\n.mtdt-cartouche-metadata .mtdt-status {\n     display:inline-block;\n     padding:2px 5px;\n     border:1px solid black;\n     border-radius:3px;\n     box-sizing:border-box;\n     margin-right:10px;\n     text-align:center;\n     font-size:0.9em;\n     background:#F3F3F3;\n}\n",""]),t.exports=e},5495:(t,e,a)=>{(e=a(3645)(!1)).push([t.id,"\n.mtdt-dimension-block {\n margin-left: 5px;\n line-height:18px;\n}\n.mtdt-dimension-block i{\n font-size:14px;\n}\n\n",""]),t.exports=e},6546:(t,e,a)=>{(e=a(3645)(!1)).push([t.id,'\n.mtdt-dimension div{\n  margin-left:5px;\n  padding:0px;\n  opacity: 1;\n}\n.mtdt-dimension.disable div{\n  pointer-events:none;\n  opacity: 0.8\n}\n.mtdt-dimension input[type="checkbox"] {\n  display: none;\n}\n.mtdt-dimension div.mtdt-child{\n  display:none;\n}\n.mtdt-dimension i.fa-minus-square-o{\n display:none;\n}\n.mtdt-dimension i.fa-plus-quare-o{\n display:inline;\n}\n.mtdt-dimension div.deployed i.fa-minus-square-o{\n  display:inline;\n}\n.mtdt-dimension-title{\n  display: inline-block;\n  max-width:calc(100% - 80px);\n  line-height:12px;\n}\n',""]),t.exports=e},8060:(t,e,a)=>{(e=a(3645)(!1)).push([t.id,'\n /* @import "leaflet-draw/dist/leaflet.draw.css";*/\n.mtdt-draw-bbox{\n  position: absolute;\n   width: 600px;\n   height: 400px;\n   z-index:2000;\n   top: 50px;\n   left: 50px;\n /*  resize: both;\n   overflow:auto;\n  /* margin: -200px 0 0 -300px;*/\n   padding: 0px;\n   border-radius: 6px;\n   background: white;\n   border: 2px solid #ccc;\n   box-shadow: 2px 2px 2px 2px rgba(0, 0, 0, 0.1);\n}\n.mtdt-draw-bbox div.mtdt-header{\n  margin:0;\n  border-radius: 6px 6px 0px 0px;\n}\ndiv[id="fmtDraw"]{\n  border-radius: 0px 0px 6px 6px;\n  height:350px;\n}\ndiv[id="fmtDraw"].mtdt-small .leaflet-top .leaflet-control{\n   margin-top: 3px;\n}\ndiv[id="fmtDraw"].mtdt-small .leaflet-left .leaflet-control{\n   margin-left: 3px;\n}\ndiv[id="fmtDraw"].mtdt-small .leaflet-control .leaflet-control-zoom-in, \ndiv[id="fmtDraw"].mtdt-small .leaflet-control .leaflet-control-zoom-out{\n  font-size:18px;\n}\ndiv[id="fmtDraw"].mtdt-small .leaflet-bar a{\n background-image:none;\n width: 20px;\n height:20px;\n line-height:20px;\n}\ndiv[id="fmtDraw"] a.leaflet-draw-draw-rectangle:before{\n  content:"\\f04d";\n  font-family: "FontAwesome"\n}\ndiv[id="fmtDraw"] a.leaflet-draw-edit-edit:before{\n  content:"\\f040";\n  font-family: "FontAwesome"\n}\ndiv[id="fmtDraw"] a.leaflet-draw-edit-remove:before{\n  content:"\\f1f8";\n  font-family: "FontAwesome"\n}\n /** menu leaflet draw */\ndiv[id="fmtDraw"] .leaflet-container .leaflet-draw-section a {\n    color: #fff;\n    font-weight: 700;\n}\ndiv[id="fmtDraw"] .leaflet-draw-actions li a {\n    color: #fff;\n}\ndiv[id="fmtDraw"] .leaflet-draw-actions li {\n    display: block;\n    margin: 0 0 1px 0;\n    border-radius: 0;\n}\ndiv[id="fmtDraw"] .leaflet-draw-actions {\n    background: #555;\n    margin-left:5px;\n    padding: 2px;\n    -webkit-border-radius: 0 4px 4px 4px;\n    border-radius: 0 4px 4px 4px;\n}\ndiv[id="fmtDraw"] .leaflet-draw-actions li:first-child a{\n    -webkit-border-radius: 0 4px 0 0;\n    border-radius: 0 4px 0 0;\n}\ndiv[id="fmtDraw"] .leaflet-draw-actions li:last-child a{\n    -webkit-border-radius: 0 0px 4px 4px;\n    border-radius: 0 0px 4px 4px;\n}\n.mtdt-draw-bbox div.mtdt-header{\n   margin: 0 0 0px 0;\n   cursor: move;\n}\n.mtdt-draw-bbox span.close{\n     position:absolute;\n     top:2px;\n     right:4px;\n     cursor: pointer;\n}\n@media screen and (min-width: 1024px) {\n.mtdt-draw-bbox {\n       width: 700px;\n       height: 400px;\n}\n}\n@media screen and (min-width: 1680px) {\n.mtdt-draw-bbox {\n       width: 900px;\n       height: 600px;\n}\n}\n',""]),t.exports=e},8143:(t,e,a)=>{(e=a(3645)(!1)).push([t.id,"\n.mtdt-dimension-block {\n margin-left: 5px;\n font-size:14px;\n line-height:18px;\n}\n.mtdt-dimension-block i{\n font-size:14px;\n}\n\n",""]),t.exports=e},2716:(t,e,a)=>{(e=a(3645)(!1)).push([t.id,'\n.mtdt-facet div{\n  margin-left:5px;\n  padding:0px\n}\n.mtdt-facet.disable{\n opacity: 0.8;\n}\n.mtdt-facet input[type="checkbox"] {\n  display: none;\n}\n.mtdt-facet div.mtdt-child{\n  display:none;\n}\n.mtdt-facet i.fa-minus-square-o{\n display:none;\n}\n.mtdt-facet i.fa-plus-quare-o{\n display:inline;\n}\n.mtdt-facet div.deployed i.fa-minus-square-o{\n  display:inline;\n}\n.mtdt-facet div.deployed i.fa-plus-square-o{\n  display:none;\n}\n.mtdt-facet div.deployed + div.mtdt-child{\n  display:block;\n}\n.mtdt-facet-title{\n  display: inline-block;\n  max-width:calc(100% - 80px);\n  text-align:left;\n  line-height:12px;\n}\n',""]),t.exports=e},9278:(t,e,a)=>{(e=a(3645)(!1)).push([t.id,'\n.mtdt-form{\n  padding: 0px 0px 30px 0px;\n border: 1px solid #ccc;\n  box-shadow: 1px 1px 1px 2px rgba(0, 0, 0, 0.1);\n /* max-height: 95vh;\n  overflow-y: auto;*/\n}\n.mtdt-form h4{\n  word-break: break-all;\n}\n.mtdt-form .formater-input-group {\n    display: flex;\n    flex-flow: row nowrap;\n    align-items: center;\n    margin: 5px 0;\n    width: 100%;\n    overflow: hidden;\n   background: #f8ebda;\n    /* background: #e3dbd0;*/\n    margin: 0 0 10px 0;\n}\n.mtdt-form .formater-input-group.disable{\n   opacity: 0.8;\n   pointer-events: none;\n}\n.mtdt-form .formater-search-box{\n  margin: 5px 0;\n  width:100%;\n  box-shadow: 0 2px 5px -5px rgba(0, 0, 0, 0.2);\n}\n.mtdt-form  .formater-input-group input {\n    border: none;\n    background-color: transparent;\n    padding: 0 10px;\n    outline: none;\n}\n.mtdt-form input[type="button"] {\n    margin: 0 0 3px 7px;\n    padding: 3px 12px;\n    text-align: center;\n    border-width: 1px;\n    border-style: solid;\n    border-radius: 1px;\n    font-size: 16px;\n    line-height: 1.7;\n    border-color: #e5b171 #cb8025 #cb8025;\n    background:#754a15;\n    color: #fff;\n    text-decoration: none;\n    vertical-align: top;\n    cursor: pointer;\n    pointer-events: auto;\n    box-sizing: border-box;\n    box-shadow: 0 1px 5px rgba(0,0,0,.65);\n}\n.mtdt-form  .formater-input-group input[name="any"] {\n    line-height:35px;\n    height:35px;\n    width: calc(100% - 40px);\n}\n/*.mtdt-form main.box-body > div > div.mtdt-dimension{\n   margin-left: 15px;\n}*/\n',""]),t.exports=e},2028:(t,e,a)=>{(e=a(3645)(!1)).push([t.id,"\n.mtdt-list[data-v-75d24c10]{\n  width: 100%;\n  text-align:center;\n  margin: 10px auto;\n}\n",""]),t.exports=e},6889:(t,e,a)=>{(e=a(3645)(!1)).push([t.id,'\ndiv[id="fmtMap"]{\n  width:100%;\n  margin:0;\n  padding:0;\n  height:200px;\n  z-index: 0;\n}\ndiv[id="fmtMap"].mtdt-small{\n  max-height: 200px;\n}\ndiv[id="fmtMap"].mtdt-small .leaflet-top .leaflet-control{\n   margin-top: 3px;\n}\ndiv[id="fmtMap"].mtdt-small .leaflet-left .leaflet-control{\n   margin-left: 3px;\n}\ndiv[id="fmtMap"].mtdt-small .leaflet-control .leaflet-control-zoom-in, \ndiv[id="fmtMap"].mtdt-small .leaflet-control .leaflet-control-zoom-out{\n  font-size:16px;\n}\ndiv[id="fmtMap"].mtdt-small .leaflet-bar a,\ndiv[id="fmtMap"].mtdt-small .leaflet-control a{\n width: 15px;\n height:15px;\n line-height:15px;\n}\ndiv[id="fmtMap"] .lfh-control-legend {\n   cursor: pointer;\n   background: white;\n   display:none;\n}\ndiv[id="fmtMap"] .lfh-control-legend img{\n    max-height:250px;\n}\ndiv[id="fmtMap"]  div.lfh-control-legend{\n    display:block;\n}\ndiv[id="fmtMap"]  div.lfh-control-legend.hidden{\n    display:none;\n}\ndiv[id="fmtMap"].mtdt-small .lfh-control-legend img{\n   max-width:120px;\n   max-height:100px;\n}\ndiv[id="fmtMap"] .lfh-control-legend img{\n    display: none;\n}\n/*  div[id="fmtMap"] .lfh-control-legend a{\n   display:block;\n } */\ndiv[id="fmtMap"] .lfh-control-legend.expand img{;\n   display:block;\n   float:left;\n   margin-left:5px;\n}\ndiv[id="fmtMap"] .lfh-control-legend.expand img:first-child{\n    margin-left:0px;\n}\ndiv[id="fmtMap"] .lfh-control-legend.expand a{\n   display:none;\n}\ndiv[id="fmtMap"] a.leaflet-control-layers-toggle{\n  background-image: none;\n  color: black;\n  text-decoration: none;\n  text-align:center;\n}\ndiv[id="fmtMap"] a.leaflet-control-layers-toggle::before{\n   font-family:Formater;\n   content: "\\e806";\n}\ndiv[id="fmtMap"] .leaflet-control-layers-expanded {\n          padding: 3px 5px;\n}\ndiv[id="fmtMap"] section.leaflet-control-layers-list input[type=radio],\n     div[id="fmtMap"] section.leaflet-control-layers-list input[type=checkbox]{\n     display:none;\n}\ndiv[id="fmtMap"] section.leaflet-control-layers-list  input[type=radio] + span:before {\n     font-family: FontAwesome;\n     content: "\\f10c";\n     opacity:0.8;\n     cursor: pointer;\n}\ndiv[id="fmtMap"] section.leaflet-control-layers-list input[type=radio]:checked + span:before {\n     content: "\\f111";\n     opacity:1;\n}\ndiv[id="fmtMap"] section.leaflet-control-layers-list  input[type=checkbox] + span:before {\n     font-family: FontAwesome;\n     content: "\\f096";\n     opacity:0.8;\n     cursor: pointer;\n}\ndiv[id="fmtMap"] section.leaflet-control-layers-list input[type=checkbox]:checked + span:before {\n     content: "\\f046";\n     opacity:1;\n}\ndiv[id="fmtMap"] .leaflet-control-layers-base label span{\n   vertical-align: middle;\n}\ndiv[id="fmtMap"].mtdt-fullscreen{\n   min-height:300px;\n   font-size: 16px;\n}\ndiv[id="fmtMap"].mtdt-fullscreen a.leaflet-control-layers-toggle{\n   width: 30px;\n   height: 30px;\n   border-radius: 2px;\n   line-height: 30px;\n}\ndiv[id="fmtMap"].mtdt-fullscreen a.leaflet-control-layers{\n   border-radius: 2px;\n}\n',""]),t.exports=e},8238:(t,e,a)=>{(e=a(3645)(!1)).push([t.id,"\n\n/*.mtdt-online{\n  margin-left:5px;\n}\n.mtdt-catalogue a,\n.mtdt-catalogue .mtdt-link{\n  color:#754a15;\n}\n.mtdt-catalogue a:hover,\n.mtdt-catalogue .mtdt-link:hover{\n  color:#8c0209;\n}*/\n\n",""]),t.exports=e},1210:(t,e,a)=>{(e=a(3645)(!1)).push([t.id,"\n.mtdt-paging span.mtdt-navigation span{\n  font-size: 1.3em;\n  cursor: pointer;\n  margin: 0 1px;\n  padding:5px;\n cursor:pointer;\n border-radius:3px;\n /*background:#8c0209;*/\n background:#754a15;\n padding:3px 5px;\n color:white;\n  vertical-align:middle;\n  opacity:0.9;\n}\n.mtdt-paging span.mtdt-navigation.disabled span{\n  opacity:0.3;\n  cursor:not-allowed;\n}\n.mtdt-paging span.mtdt-navigation:not(.disabled) span:hover{\n  opacity:1;\n  font-size:1.31em;\n}\n\n",""]),t.exports=e},8668:(t,e,a)=>{(e=a(3645)(!1)).push([t.id,'\n.mtdt-link {\n    text-decoration: underline;\n    cursor: pointer;\n}\n.mtdt-related .fmt-progress-bar-container{\n    display: block;\n    position: absolute;\n    top: -100px;\n    z-index: 2;\n    padding:10px;\n}\n.mtdt-related .progress-bar svg {\n   background: rgba(255,255, 255, 0.5);\n}\n.mtdt-related .progress-bar > div { \n   position: absolute !important; \n   top:16px;\n   left:0;\n   line-height: 70px !important;\n   width: 100%;\n  text-align:center;\n}\n.mtdt-related-metadata{\n   margin: 0px;\n   padding:0px;\n   height:auto;\n   text-align: center;\n}\n.mtdt-related-metadata > div{\n  display: block;\n  margin-bottom: 10px;\n}\n.mtdt-related-metadata hr {\n  margin: 0 25px;\n   border: 0;\n    height: 1px;\n    background: #333;\n    background-image: linear-gradient(to right, #ccc, #333, #ccc);\n}\n.mtdt-related-cartouche{\n float: right;\n margin-right:3px;\n margin-top:3px;\n max-height: 25px;\n max-width: 50%;\n}\n.mtdt-related-cartouche > div {\n  display:inline-block;\n}\n.mtdt-related-cartouche > div.formater-message,\n.mtdt-related-metadata > div.formater-message {\n    display: block;\n\tposition: absolute;\n\ttop: -40px;\n\tright: 0px;\n\tpadding: 10px;\n\tcolor: darkred;\n\tborder: 1px solid darkred;\n\tborder-radius: 5px;\n\tbackground-color: white;\n\tbox-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.5);\n\tz-index: 1;\n}\n.mtdt-related-metadata > div.formater-message {\n   position: relative;\n   top: 0;\n   right:0;\n}\n.mtdt-related .mtdt-related-type{\n text-align:center;\n min-width:20px;\n vertical-align:bottom;\n\n border-radius:3px;\n /*background:#8c0209;*/\n background:#754a15;\n padding:3px 5px;\n color:white;\n margin-right:3px;\n box-sizing: content-box;\n}\n.mtdt-related-cartouche .mtdt-related-type{\n   cursor:pointer;\n   opacity:0.9\n}\n.mtdt-related-cartouche .mtdt-related-type.disabled,\n.mtdt-related-cartouche a.disabled ,\n.mtdt-related-cartouche span.disabled,\n.mtdt-expand span.disabled {\n  pointer-events:none;\n  opacity:0.5;\n}\n.mtdt-related-cartouche .mtdt-related-type:hover{\n  opacity:1;\n}\n.mtdt-related-metadata .mtdt-expand{\n  margin: 20px 10px 30px 10px;\n  text-align:left;\n}\n.mtdt-related-metadata .mtdt-links.mtdt-expand{\n  display:block;\n}\n.mtdt-links a,\n.mtdt-links span {\n  padding: 1px 3px;\n  cursor:pointer;\n  display: inline-block;\n  width: 100%;\n}\n.wrapper-content .mtdt-app .mtdt-links a:hover,\n.mtdt-links a:hover,\n.wrapper-content .mtdt-app .mtdt-links span:hover,\n.mtdt-links span:hover {\n  background: darkred;\n  color:white;\n}\n.mtdt-layers li:hover {\n  color: darkred;\n}\n.mtdt-related-cartouche .mtdt-related-type + .mtdt-expand{\n    display:none;\n    position:absolute;\n    bottom: 21px;\n    right:0;\n    z-index:100;\n    height:auto;\n    min-width:200px;\n    max-width:320px;\n    background:white;\n    padding:5px;\n    border-radius:3px;\n    border:1px dotted grey;\n    box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.5);\n    width:auto;\n    text-align:left;\n}\n.mtdt-related-cartouche .mtdt-expand:hover {\n  display: block;\n}\n.mtdt-related-cartouche  .mtdt-related-type:hover + .mtdt-expand{\n  display:block;\n}\n.mtdt-related-type span{\n font-size:0.8em;\n margin-left:3px;\n}\n.mtdt-related .mtdt-expand label{\n  font-weight: 500;\n}\n.mtdt-related .mtdt-expand ul {\n  padding:0;\n  list-style: none;\n  margin:  5px 3px 5px 9px;\n}\n.mtdt-related-metadata .mtdt-expand ul {\n  display:inline;\n}\n.mtdt-related-cartouche .mtdt-expand ul li {\n     word-break: break-word;\n}\n.mtdt-related-metadata .mtdt-expand ul li {\n word-break: break-word;\n  padding: 2px;\n  margin:  0;\n  cursor:pointer;\n}\n.mtdt-related-metadata .mtdt-expand ul li.disabled {\n   pointer-events: none;\n   opacity:0.5\n}\n.mtdt-related-metadata .mtdt-expand ul:not(.mtdt-layers)  li:before{\ncontent: "\\2192";\npadding: 0 5px;\ndisplay: table-cell;\nfont-size: 1.1em;\n}\n.mtdt-related-metadata .mtdt-expand ul:not(.mtdt-layers)  li a,\n.mtdt-related-metadata .mtdt-expand ul:not(.mtdt-layers)  li span,\n.mtdt-related-metadata .mtdt-expand ul:not(.mtdt-layers)  li div{\n\ndisplay: table-cell;\nmax-width:92%;\n}\n.mtdt-related ul.mtdt-layers{\n  list-style-type: none;\n  margin-left:0px;\n  text-align:left;\n}\nul.mtdt-layers li{\n  cursor: pointer;\n  text-align:left;\n}\n.mtdt-related ul.mtdt-layers li {\n  vertical-align:text-top;\n  min-width:51%;\n  max-width:100%;\n}\n.mtdt-related ul.mtdt-layers li div{\n   display: inline-block;\n   max-width:85%;\n   vertical-align:top;\n   word-break: break-word;\n   text-align:justify;\n}\n.mtdt-related-cartouche ul.mtdt-layers li i.fa {\n   margin-right: 3px;\n}\n.mtdt-related-cartouche ul.mtdt-layers li div{\n\n    text-overflow: clip;\n    margin:0;\n    padding:0;\n    width: calc(100% - 35px);\n    overflow: hidden;\n    word-break: break-word;\n    vertical-align: top;\n    line-height:0.9;\n    max-height:32px;\n    padding:2px 0;\n}\n.mtdt-related-cartouche .mtdt-expand h4 {\n   margin: 5px 0px;\n}\n  ',""]),t.exports=e},6090:(t,e,a)=>{(e=a(3645)(!1)).push([t.id,"\n.formater-spatial-search.disable{\n  pointer-events: none;\n  opacity: 0.8;\n}\n.formater-spatial-search .formater-input-group {\n    border: none;\n    display:inline-block;\n     /* Default color from aeris */\n    background-color: rgba(172,220,238,0.3);\n}\n.formater-spatial-search .formater-input-group input {\n     border: none;\n     background-color: transparent;\n     padding: 0 5px;\n     outline: none;\n}\n.formater-spatial-search .formater-input-group span:first-letter {\n   text-transform: uppercase;\n}\n.formater-spatial-search .formater-input-group{\n    display: flex;\n    flex-flow: row nowrap;\n    align-items: center;\n    margin: 5px 0;\n    width: 48%;\n    height: 25px;\n    line-height: 25px;\n    overflow: hidden;\n}\n.mtdt-form .formater-spatial-search .formater-input-group {\n    width:48%;\n    height:25px;\n    margin: 5px auto;\n}\n.mtdt-form .formater-spatial-search .formater-input-group input{\n  min-width: 80px;\n  max-width: 90px;\n  text-align:center;\n  padding: 0 3px;\n  margin: 0 3px;\n}\n.formater-spatial-search .formater-input-group.cardinal-left{\n   float:left;\n}\n.formater-spatial-search .formater-input-group.cardinal-right{\n   float:right;\n}\n.formater-spatial-search .formater-input-group.cardinal-left input{\n   text-align:left;\n}\n.formater-spatial-search .formater-input-group.cardinal-right input{\n   text-align:right;\n   max-width: 70%;\n}\n.formater-spatial-search .formater-input-group.cardinal-center{\n   margin:auto;\n   clear:both;\n}\n.formater-spatial-search .formater-input-group .right {\n  min-width: 25px;\n  border-right: 1px solid #fff;\n  box-sizing: border-box;\n  display: block;\n  height: 100%;\n  text-align: center;\n}\n.formater-spatial-search .formater-input-group .left {\n  min-width: 25px;\n  border-left: 1px solid #fff;\n  box-sizing: border-box;\n  display: block;\n  height: 100%;\n  text-align: center;\n}\n.formater-spatial-search .box-toolbar {\n  text-align: right;\n  display:block;\n  margin: 0 0 10px 0;\n}\n.formater-spatial-search .box-toolbar button{\n  margin-left: 3px;\n  min-width: 38px;\n  padding: 1px 6px;\n}\n",""]),t.exports=e},4309:(t,e,a)=>{(e=a(3645)(!1)).push([t.id,"\nspan.mtdt-cartouche-elt{\n display:inline-block;\n text-align:left;\n}\n",""]),t.exports=e},1224:(t,e,a)=>{"use strict";a.d(e,{Z:()=>c});var n=a(5243),i=a.n(n);a(1787),i().modLat=function(t){return(t%=180)>90?t-=180:t<-90&&(t+=180),t},i().modLng=function(t){return(t%=360)>180?t-=360:t<-180&&(t+=360),t};const s={name:"FormaterDrawBbox",components:{},props:{lang:{type:String,default:"en"},color:{type:String,default:"#808080"}},computed:{searchArea:function(){return this.$store?this.$store.state.searchArea:this.bbox}},created:function(){this.$i18n.locale=this.lang,"fr"===this.$i18n.locale&&(i().drawLocal=a(5260)),this.drawStartListener=this.open.bind(this),document.addEventListener("fmt:selectAreaDrawStart",this.drawStartListener),this.drawEndListener=this.close.bind(this),document.addEventListener("fmt:selectAreaDrawEnd",this.drawEndListener),this.bboxChangeListener=this.selectAreaChange.bind(this),document.addEventListener("fmt:bboxChange",this.bboxChangeListener),this.mousemoveListener=this.move.bind(this),document.addEventListener("mousemove",this.mousemoveListener),this.mouseupListener=this.moveEnd.bind(this),document.addEventListener("mouseup",this.mouseupListener),this.resizeListener=this.resize.bind(this),window.addEventListener("resize",this.resizeListener)},destroyed:function(){document.removeEventListener("fmt:selectAreaDrawStart",this.drawStartListener),this.drawStartListener=null,document.removeEventListener("fmt:selectAreaDrawEnd",this.drawEndListener),this.drawEndListener=null,document.removeEventListener("fmt:bboxChange",this.bboxChangeListener),this.bboxChangeListener=null,document.removeEventListener("mousemove",this.mousemoveListener),this.mousemoveListener=null,document.removeEventListener("mouseup",this.mouseupListener),this.mouseupListener=null,window.removeEventListener("resize",this.resizeListener),this.resizeListener=null},mounted:function(){this.$el.querySelector(".mtdt-header").style.color="white",this.$store?this.$el.querySelector(".mtdt-header").style.background=this.$store.state.style.primary:this.$el.querySelector(".mtdt-header").style.background=this.color,this.initHeight(),this.initPosition(),this.initMap()},data:function(){return{mousemoveListener:null,mouseupListener:null,resizeListener:null,drawStartListener:null,drawEndListener:null,bboxChangeListener:null,drawing:!1,map:null,boundsLayer:null,defaultBounds:[[-60,-120],[75,130]],bbox:null,drawControl:null,drawLayers:null,selected:!1,intersection:null,delta:{x:0,y:0},pos:{x:0,y:0}}},methods:{initPosition:function(){var t=(this.$el.parentNode.offsetWidth-this.$el.offsetWidth)/2;this.$el.parentNode.style.position="absolute",this.$el.style.left=t+"px",this.$el.style.top="25px",this.pos.x=t,this.pos.y=this.$el.offsetTop},initHeight:function(){var t=this.$el.offsetHeight-this.$el.querySelector(".mtdt-header").offsetHeight-4;this.$el.querySelector("#fmtDraw").style.height=t+"px"},removeBoundsLayer:function(){this.boundsLayer&&(this.boundsLayer.remove(),this.boundsLayer=null)},initBoundsLayer:function(){this.removeBoundsLayer(),this.searchArea&&(this.boundsLayer=i().rectangle(this.searchArea,{color:"#cccccc",fillOpacity:.2,weight:1}),this.boundsLayer.addTo(this.map),this.drawLayers.getLayers().length>0?this.map.fitBounds(this.drawLayers.getBounds(),{padding:[20,20]}):this.map.fitBounds(this.boundsLayer.getBounds(),{padding:[20,20]}))},initDrawControl:function(){if(!this.drawControl){this.drawLayers=new(i().FeatureGroup),this.map.addLayer(this.drawLayers),this.drawControl=new(i().Control.Draw)({draw:{rectangle:{shapeOptions:{color:"#ff0000"}},circlemarker:!1,circle:!1,marker:!1,polygon:!1,polyline:!1},edit:{featureGroup:this.drawLayers}}),this.drawControl.addTo(this.map);var t=this;this.map.on(i().Draw.Event.CREATED,(function(e){e.layer;var a=e.layer.getBounds();t.bbox=t.drawValidBbox(a),t.updateUrl()})),this.map.on(i().Draw.Event.EDITED,(function(e){var a;e.layers.eachLayer((function(t){a=t.getBounds()})),t.bbox=t.drawValidBbox(a),t.updateUrl()})),this.map.on(i().Draw.Event.DELETED,(function(e){t.bbox=t.drawValidBbox(null),t.updateUrl()}))}},updateUrl:function(){var t={};for(var e in this.$route.query)t[e]=this.$route.query[e];if(this.bbox&&this.bbox.west){for(var a in this.bbox)this.bbox[a]=Math.round(1e4*this.bbox[a])/1e4;t.box=this.bbox.west+","+this.bbox.south+","+this.bbox.east+","+this.bbox.north}else delete t.box;this.$router.push({name:this.$route.name,params:this.$route.params,query:t})},initMap:function(){if(!this.map){var t=this.$el.querySelector("#fmtDraw");this.map=i().map(t).setView([51.505,-.09],2),i().tileLayer("//server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",{attribution:'Tiles © <a href="https://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer">ArcGIS</a>',maxZoom:18,minZoom:1}).addTo(this.map),this.initDrawControl()}},open:function(t){this.drawing=!0;var e=this;setTimeout((function(){e.initHeight(),e.initPosition(),e.map.invalidateSize(),e.selectAreaChange(t)}),5)},getBounds:function(){return this.drawLayers.getBounds()},drawEnd:function(){var t=new CustomEvent("fmt:drawClose");document.dispatchEvent(t)},selectAreaChange:function(t){if(this.map){var e=t.detail,a=i().latLngBounds(this.searchArea||this.$store.state.spatialExtent);if(e&&""!==e.north&&""!==e.south&&""!==e.east&&""!==e.west){for(var n in e)e[n]=parseFloat(e[n]);var s={};s.south=Math.min(e.north,e.south),s.north=Math.max(e.north,e.south),s.west=Math.min(e.east,e.west),s.east=Math.max(e.east,e.west),a=i().latLngBounds([[s.south,s.west],[s.north,s.east]]),this.bbox=this.drawValidBbox(a)}else this.drawLayers.clearLayers(),this.bbox=null;a?this.searchArea&&this.boundsLayer&&a.extend(this.boundsLayer.getBounds()):a=this.searchArea?this.boundsLayer.getBounds():this.$store?i().latLngBounds(this.$store.state.spatialExtent):this.defaultBounds,this.map.fitBounds(a,{padding:[20,20]})}},close:function(t){this.drawing=!1},movestart:function(t){this.selected=!0,this.delta={x:this.pos.x-this.$el.offsetLeft,y:this.pos.y-this.$el.offsetTop}},move:function(t){this.pos.x=t.clientX,this.pos.y=t.clientY,this.selected&&(this.$el.style.left=this.pos.x-this.delta.x+"px",this.$el.style.top=this.pos.y-this.delta.y+"px")},moveEnd:function(){this.selected=!1},resize:function(t){this.initHeight(),this.map.invalidateSize()},drawValidBbox:function(t){if(this.drawLayers){if(!t)return null;var e={north:t.getNorth(),south:t.getSouth(),east:t.getEast(),west:t.getSouthWest().lng};if(e.east>180||e.west<-180){var a=e.east-e.west;a>360?(e.east=180,e.west=-180):(e.west=i().modLng(e.west),e.west=180===e.west?-180:e.west,e.east=Math.min(e.west+a,180))}t=[[e.south,e.west],[e.north,e.east]];var n=i().rectangle(t,{color:"#ff0000"});return this.drawLayers.clearLayers(),this.drawLayers.addLayer(n),t=this.drawLayers.getBounds(),this.map.fitBounds(t,{padding:[20,20]}),e}},drawIntersection:function(){if(this.intersection&&(this.intersection.remove(),this.intersection=null),this.bbox){var t=Object.assign({},this.bbox);if(this.searchArea){if(t.west<this.searchArea.getWest()?t.west=this.searchArea.getWest():t.west>this.searchArea.getEast()&&(t.west=this.searchArea.getEast()),t.east>this.searchArea.getEast()?t.east=this.searchArea.getEast():t.east<this.searchArea.getWest()&&(t.east=this.searchArea.getWest()),t.north>this.searchArea.getNorth()?t.north=this.searchArea.getNorth():t.north<this.searchArea.getSouth()&&(t.north=this.searchArea.getSouth()),t.south<this.searchArea.getSouth()?t.south=this.searchArea.getSouth():t.south>this.searchArea.getNorth()&&(t.south=this.searchArea.getNorth()),t.north<=t.south||t.west>=t.east)return;var e=[[t.south,t.west],[t.north,t.east]];this.intersection=i().rectangle(e,{color:"#ff0000"}),this.intersection.addTo(this.map)}}}}};a(2904),a(3297);var r=a(1900),o=a(9263);const l=a.n(o)();var d=(0,r.Z)(s,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.drawing&&(t.$store&&!t.$store.state.disable.spatial||!t.$store),expression:"drawing && (($store && !$store.state.disable.spatial) || !$store)"}],staticClass:"mtdt-draw-bbox"},[e("div",{staticClass:"mtdt-header"},[e("span",{staticClass:"close fa fa-close",on:{click:t.drawEnd}}),t._v(" "),e("h3",{staticStyle:{padding:"10px",margin:"0"},on:{mousedown:t.movestart}},[t._v(t._s(t.$t("draw_bbox")))])]),t._v(" "),e("div",{staticClass:"mtdt-small",attrs:{id:"fmtDraw"}})])}),[],!1,null,null,null);"function"==typeof l&&l(d);const c=d.exports},6545:(t,e,a)=>{"use strict";a.d(e,{Z:()=>S});var n=a(6490);const i={props:{lang:{type:String,default:"en"},color:{type:String,default:"#dd9946"},defaultBbox:{type:String,default:null}},data:function(){return{north:"",south:"",east:"",west:"",areaSelect:!1,searchEventListener:null,resetEventListener:null,patternLatitude:"[-+]?(90|([1-8]?[0-9])([.][0-9]+)?)",patternLongitude:"[-+]?(180(.0+)?|((1[0-7][0-9])|([1-9]?[0-9]))([.][0-9]+)?)"}},watch:{$route:function(t){this.initBbox(t.query)}},computed:{isFmtMetadata:function(){return void 0!==this.$store&&void 0!==this.$store.state.disable},isDisable:function(){return!this.isFmtMetadata&&this.$store.state.disable.spatiale}},destroyed:function(){document.removeEventListener("fmt:selectAreaChange",this.selectAreaChangeListener),this.selectAreaChangeListener=null,document.removeEventListener("fmt:drawClose",this.drawCloseListener),this.drawCloseListener=null},created:function(){this.$i18n.locale=this.lang,this.initBbox(this.$route.query),this.selectAreaChangeListener=this.handleBounds.bind(this),document.addEventListener("fmt:selectAreaChange",this.selectAreaChangeListener),this.drawCloseListener=this.handleDraw.bind(this),document.addEventListener("fmt:drawClose",this.drawCloseListener)},mounted:function(){this.ensureTheme()},methods:{initBbox:function(t){if(t.box){var e=t.box.split(",");this.north=e[3],this.east=e[2],this.south=e[1],this.west=e[0]}else this.north="",this.east="",this.south="",this.west="";var a=new CustomEvent("fmt:bboxChange",{detail:this.bbox()});document.dispatchEvent(a)},bbox:function(){return{north:this.north,south:this.south,east:this.east,west:this.west}},validForm:function(){var t=this.$el.querySelectorAll("input"),e=!0;return t.forEach((function(t){e*=t.validity.valid})),""!==this.south&&""!==this.north&&""!==this.east&&""!==this.west||(e=!1),e},createBbox:function(){return!!this.validForm()&&[this.west,this.south,this.east,this.north].join(",")},createGeometry:function(){if(this.validForm()){var t=Math.round(1e4*this.north)/1e4,e=Math.round(1e4*this.south)/1e4,a=Math.round(1e4*this.east)/1e4,n=Math.round(1e4*this.west)/1e4,i="POLYGON(("+n+"+"+t+",";return i+=a+"+"+t+",",i+=a+"+"+e+",",(i+=n+"+"+e+",")+(n+"+")+t+"))"}return!1},validInput:function(t){if(13===t.which){var e=parseInt(t.target.dataset.index)+1,a=this.$el.querySelector('input[data-index="'+e+'"]');a&&a.focus()}},handleChange:function(t){if(!t||!t.target.validity.valid)return!1;var e=new CustomEvent("fmt:bboxChange",{detail:this.bbox()});document.dispatchEvent(e)},handleDraw:function(){if(this.areaSelect)var t=new CustomEvent("fmt:selectAreaDrawEnd",{detail:this.bbox()});else t=new CustomEvent("fmt:selectAreaDrawStart",{detail:this.bbox()});this.areaSelect=!this.areaSelect,document.dispatchEvent(t)},handleReset:function(){this.north="",this.east="",this.west="",this.south="",this.isFmtMetadata&&this.$store.commit("selectAreaChange",null)},handleResetLocal:function(){this.handleReset();var t={};for(var e in this.$route.query)t[e]=this.$route.query[e];delete t.box,this.$router.push({name:this.$route.name,params:this.$route.params,query:t})},handleBounds:function(t){var e={};for(var a in this.$route.query)e[a]=this.$route.query[a];""!==t.detail.north?(this.north=Math.round(1e4*t.detail.north)/1e4,this.south=Math.round(1e4*t.detail.south)/1e4,this.east=Math.round(1e4*t.detail.east)/1e4,this.west=Math.round(1e4*t.detail.west)/1e4,e.box=this.west+","+this.south+","+this.east+","+this.north):delete e.box,this.isFmtMetadata&&this.$store.commit("selectAreaChange",t.detail),this.$router.push({name:this.$route.name,params:this.$route.params,query:e})},ensureTheme:function(){if(this.$el&&this.$el.querySelector){var t=this.$shadeColor(this.color,.8),e=this.$el.querySelectorAll(".formater-input-group");[].forEach.call(e,(function(e){e.style.backgroundColor=t}))}}}};a(1878);var s=a(1900),r=a(9639);const o=a.n(r)();var l=(0,s.Z)(i,(function(){var t=this,e=t._self._c;return e("span",{staticClass:"formater-spatial-search",class:{disable:t.isDisable}},[e("div",{staticClass:"box-toolbar",staticStyle:{background:"none"}},[e("button",{staticClass:"spatial-edit-button",attrs:{title:t.$t("draw")},on:{click:t.handleDraw}},[e("i",{staticClass:"fa fa-pencil-square-o"})]),t._v(" "),e("button",{staticClass:"spatial-reset-button",attrs:{title:t.$t("reset")},on:{click:t.handleResetLocal}},[e("i",{staticClass:"fa fa-remove"})])]),t._v(" "),e("form",{staticClass:"formater-spatial-search-content",attrs:{name:"formater-spatial-search"}},[e("div",{staticClass:"formater-input-group cardinal-center"},[e("span",{staticClass:"right"},[t._v(t._s(t.$t("north_symbol")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.north,expression:"north"}],attrs:{type:"text",name:"north",pattern:t.patternLatitude,title:t.$t("titleLatitude"),"data-index":"1"},domProps:{value:t.north},on:{keydown:t.validInput,change:t.handleChange,input:function(e){e.target.composing||(t.north=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"formater-input-group cardinal-left"},[e("span",{staticClass:"right"},[t._v(t._s(t.$t("west_symbol")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.west,expression:"west"}],attrs:{type:"text",name:"west",pattern:t.patternLongitude,title:t.$t("titleLongitude"),"data-index":"2"},domProps:{value:t.west},on:{keydown:t.validInput,change:t.handleChange,input:function(e){e.target.composing||(t.west=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"formater-input-group cardinal-right"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.east,expression:"east"}],attrs:{type:"text",name:"east",pattern:t.patternLongitude,title:t.$t("titleLongitude"),"data-index":"3"},domProps:{value:t.east},on:{keydown:t.validInput,change:t.handleChange,input:function(e){e.target.composing||(t.east=e.target.value)}}}),t._v(" "),e("span",{staticClass:"left"},[t._v(t._s(t.$t("east_symbol")))])]),t._v(" "),e("div",{staticClass:"formater-input-group cardinal-center"},[e("span",{staticClass:"right"},[t._v(t._s(t.$t("south_symbol")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.south,expression:"south"}],attrs:{type:"text",name:"south",pattern:t.patternLatitude,title:t.$t("titleLatitude"),"data-index":"4"},domProps:{value:t.south},on:{keydown:t.validInput,change:t.handleChange,input:function(e){e.target.composing||(t.south=e.target.value)}}})])])])}),[],!1,null,null,null);"function"==typeof o&&o(l);const d=l.exports;var c=a(5243);a(3323),c.Control.Fmtlayer=a(8687),c.Control.Reset=a(6957),c.Control.Fullscreen=a(8665),c.Control.Legend=a(4221);const h={name:"FormaterMap",props:{depth:{type:Number,default:0}},created:function(){this.metadataListListener=this.receiveMetadatas.bind(this),document.addEventListener("fmt:metadataListEvent",this.metadataListListener),this.metadataListener=this.receiveMetadata.bind(this),document.addEventListener("fmt:metadataEvent",this.metadataListener),this.selectBboxListener=this.selectBbox.bind(this),document.addEventListener("fmt:selectBboxEvent",this.selectBboxListener),this.unselectBboxListener=this.unselectBbox.bind(this),document.addEventListener("fmt:unselectBboxEvent",this.unselectBboxListener),this.closeMetadataListener=this.back.bind(this),document.addEventListener("fmt:closeMetadataEvent",this.closeMetadataListener),this.addLayerListener=this.addLayer.bind(this),document.addEventListener("fmt:addLayerEvent",this.addLayerListener),this.removeLayerListener=this.removeLayer.bind(this),document.addEventListener("fmt:removeLayerEvent",this.removeLayerListener)},destroyed:function(){document.removeEventListener("fmt:metadataListEvent",this.metadataListListener),this.metadataListListener=null,document.removeEventListener("fmt:metadataEvent",this.metadataListener),this.metadataListener=null,document.removeEventListener("fmt:selectBboxEvent",this.selectBboxListener),this.selectBboxListener=null,document.removeEventListener("fmt:unselectBboxEvent",this.unselectBboxListener),this.unselectBboxListener=null,document.removeEventListener("fmt:closeMetadataEvent",this.closeMetadataListener),this.closeMetadataListener=null,document.removeEventListener("fmt:addLayerEvent",this.addLayerListener),this.addLayerListener=null,document.removeEventListener("fmt:removeLayerEvent",this.removeLayerListener),this.removeLayerListener=null},mounted:function(){this.init()},data:function(){return{$proj4:null,crs:{dest:null,espg3857:null},fullscreen:!1,map:null,type:null,metadataListListener:null,metadataListener:null,closeMetadataListener:null,aerisResetListener:null,addLayerListener:null,removeLayerListener:null,bboxLayer:null,layers:new Map,single:{bbox:null,layers:[],bounds:null},bounds:null,metadataBoundsList:[],defaultRectangleOptions:{interactive:!1,fillOpacity:.05,stroke:!0,weight:1},selectedOptions:{color:"red",fillColor:"red",fillOpacity:.3,strokeWidth:1,weight:1},currentOptions:{color:"red",fillColor:"red",fillOpacity:.05,strokeWidth:1,weight:1},colors:["orange","purple","green"],controlLayer:null,resetControl:null,legendControl:null}},computed:{selectedBounds:function(){return this.$store.state.selectArea?c.latLngBounds([this.$store.state.selectArea.south,this.$store.state.selectArea.west],[this.$store.state.selectArea.north,this.$store.state.selectArea.east]):null},currentUuid:function(){return this.$route.params.uuid},selectedMetadata:function(){return this.$store.state.selectedMetadata}},methods:{init:function(){var t=this,e=this.$el.querySelector("#fmtMap");this.map=c.map(e,{scrollWheelZoom:!1}).setView([51.505,-.09],1),this.bounds=this.map.getBounds(),a.e(858).then(a.t.bind(a,2858,23)).then((function(e){t.reader=e,t.reader.init(t.$http,t.$store.state.proxy)})),this.resetControl=new c.Control.Reset(this.bounds,this.$i18n.locale),this.resetControl.addTo(this.map),this.controlLayer=new c.Control.Fmtlayer,this.controlLayer.tiles.arcgisTopo.layer.addTo(this.map),this.controlLayer.addTo(this.map),this.legendControl=new c.Control.Legend(this.$i18n.locale,this.$gn.uuidToDomId),new c.Control.Fullscreen("fmtLargeMap",{lang:this.$i18n.locale,mouseWheel:!0}).addTo(this.map),this.legendControl.addTo(this.map)},addLayer:function(t){var e=this,a=t.detail.layer,n=t.detail.id,i=t.detail.token,s=t.detail.zoom;switch(this.searchBboxBoundsById(n),a.type){case"WMS":case"OGC:WMS":case"OGC Web Map Service":if(new RegExp(/GetCapabilities/i).test(a.href))return void this.beforeAddWMS(a,n,s);if(!a.options){var r=a.href.match(/^(.*\?).*$/)[1];a.href=r,a.options={id:a.id,service:"WMS",layers:a.name,format:"image/png",opacity:.5},i&&-1!==i&&(a.options._bearer=i)}this.addWMSLayer(a,n,s);break;case"GetMap":a.options||(a.options={id:a.id,service:"WMS",layers:a.name,format:"image/png",opacity:.5}),this.addWMSLayer(a,n,s);break;case"WTS":a.options={id:a.id,service:"WTS",layers:a.name},this.addWTSLayer(a,n);break;case"XXX":r=a.href.match(/^(.*\?).*$/)[1],a.name,a.href;break;case"OGC:WFS":case"OGC:WFS-G":a.href.match(/^(.*\?).*$/),r=a.href+"r?",r+="version=1.0.0&request=GetFeature&typeName="+a.name,r+="&service=WFS",r+="&outputFormat="+encodeURIComponent("application/vnd.google-earth.kml+xml");break;case"OGC:KML":case"OGC:OWS":case"OGC:OWS-C":case"GLG:KML-2.0-http-get-map":this.$http.get(a.href).then((function(t){var i=(new DOMParser).parseFromString(t.body,"text/xml"),r=new c.KML(i);e.addLayerToMap(a.id,n,r,s)}))}},beforeAddWMS:function(t,e,a){this.reader.loadInfo(t,{opacity:.5,zoom:a},e,this.addWMSLayer)},addWTSLayer:function(t,e){var a=c.tileLayer(t.href,{opacity:.3});this.addLayerToMap(t.options.id,e,a)},addWMSLayer:function(t,e,a){var n=c.tileLayer.wms(t.href,t.options);this.addLayerToMap(t.options.id,e,n,a),t.options.legend&&this.currentUuid&&t.id.indexOf(this.currentUuid)>=0?this.legendControl.addLegend(this.$store.state.currentUuid,t.id,t.options.legend.src):this.selectedMetadata&&this.selectedMetadata.legend&&this.legendControl.addLegend(this.selectedMetadata.id,"0",this.selectedMetadata.legend)},addLayerToMap:function(t,e,a,n){if(a){a.addTo(this.map),a.bringToFront(),this.$store.commit("layers/addLayer",t),this.layers.set(t,a);var i=this.searchBboxBoundsById(e);a._kml&&(i=a.getBounds()),i&&n&&this.map.fitBounds(i,{animate:!0,padding:[30,30]})}},removeLayer:function(t){var e=this.layers.get(t.detail.id);e&&(e.remove(),this.$store.commit("layers/removeLayer",t.detail.id),e.options.legend&&this.legendControl.removeLegend(t.detail.id)),this.layers.delete(t.detail.id)},seeOnlyCurrent:function(t){var e=this.selectBboxById(t);e&&this.controlLayer.setBboxLayer(c.rectangle(e,this.currentOptions));var a=t+"_";this.layers.forEach((function(t,e){0!==e.indexOf(a)&&t.remove()}))},seeAllLayers:function(){var t=this;this.layers.forEach((function(e){e.addTo(t.map)}))},hideLayers:function(){this.layers.forEach((function(t){t.remove()}))},hideBboxLayers:function(){this.bboxLayer.remove()},showBboxLayers:function(){for(var t in this.bboxLayer)this.bboxLayer.addTo(this.map)},getOptionsLayer:function(t){return t||(t=0),Object.assign(this.defaultRectangleOptions,{fillColor:this.colors[t],color:this.colors[t]})},receiveSingleMeta:function(t){console.log("RECEIVE SINGLE METADATA"),this.legendControl.removeAll();var e=0;if(this.layers.forEach((function(a,n,i){t.detail.meta.layers.find((function(t){return t.id===n}))?e++:a.remove()})),e>0&&t.detail.meta.legend&&this.legendControl.addLegend(t.detail.meta.id,"0",t.detail.meta.legend),this.hideBboxLayers(),t.detail.meta.geoBox)this.single.bbox=c.polygon(this.$gn.bboxString2Array(t.detail.meta.geoBox),{style:this.getOptionsLayer(1)}),this.single.bounds=this.single.bbox.getBounds();else if(t.detail.meta.id){this.single.bbox=this.findBboxById(t.detail.meta.id);var a=null;this.single.bbox.eachLayer((function(t){a?a.extend(t.getBounds()):a=t.getBounds()})),this.single.bounds=a}this.single.bbox.addTo(this.map),this.map.fitBounds(this.single.bounds)},receiveMetadata:function(t){if(t.detail.depth&&-1===t.detail.depth)this.receiveSingleMeta(t);else{if(this.legendControl.removeAll(),this.clearLayers(),this.bboxLayer&&(this.bboxLayer.eachLayer((function(t){t.remove()})),this.bboxLayer.clearLayers(),this.bounds=null),t.detail&&t.detail.meta&&t.detail.feature){this.bboxLayer=c.geoJSON(t.detail.feature,{style:this.getOptionsLayer(1)}),this.bboxLayer.addTo(this.map);var e=this.bboxLayer.getBounds();this.bounds=e,this.controlLayer.setBboxLayer(this.bboxLayer),this.map.fitBounds(e)}this.$store.commit("searchAreaChange",this.bounds),t.detail&&t.detail.meta&&t.detail.meta.legend&&this.legendControl.addLegend(t.detail.meta.id,"0",t.detail.meta.legend)}},receiveMetadatas:function(t){if(this.legendControl.removeAll(),this.clearLayers(),t.detail.metadata){"FormaterCatalogue"===this.$route.name&&this.$store.commit("searchAreaChange",null),this.legendControl.removeAll(),this.bboxLayer&&this.bboxLayer.clearLayers&&(this.bboxLayer.clearLayers(),this.bounds=null),this.type=t.detail.type;var e=this.getOptionsLayer(0);this.bboxLayer=c.geoJSON(t.detail.features,{style:e}),this.bounds=this.bboxLayer.getBounds(),this.controlLayer.setBboxLayer(this.bboxLayer),this.bounds&&this.bounds._southWest&&(this.map.fitBounds(this.bounds),this.resetControl.setBounds(this.bounds))}},updateLayers:function(t){if(this.layers){var e=this,a=[];this.layers.forEach((function(n,i){var s=e.$gn.layerId2MetaId(i);t[s]||(n.remove(),a.push(i))})),a.forEach((function(t){e.layers.delete(t)}))}},filterBboxWithSelectedBounds:function(t){var e=this;t.forEach((function(t){t=e.inSelectedBounds(t)}))},inSelectedBounds:function(t){if(!this.selectedBounds)return t;var e=this.selectedBounds;if("MultiPolygon"===t.geometry.type){for(var a=t.geometry.coordinates.length-1;a>=0;a--){var n=c.GeoJSON.coordsToLatLngs(t.geometry.coordinates[a],1);c.latLngBounds(n).intersects(e)||t.geometry.coordinates.splice(a,1)}return t}return t},selectBbox:function(t){this.unselectBbox();var e=null,a=null;return t.detail.id?a=t.detail.id:t.detail.meta&&t.detail.meta.id&&(a=t.detail.meta.id),a&&(e=this.selectBboxById(a,t.detail.temporaly),this.metadataBoundsList.push(e)),e},unselectBbox:function(){var t=this.getOptionsLayer(0);for(var e in this.selected)this.selected[e].eachLayer((function(e){e.setStyle({color:t.color,fillColor:t.fillColor,fillOpacity:t.fillOpacity})}));this.selected=[]},clearLayers:function(){this.layers&&(this.layers.forEach((function(t){t.remove()})),this.layers.clear())},back:function(t){this.single.bbox&&(this.single.bbox.remove(),this.single.bbox=null,this.single.bounds=null),this.legendControl.removeAll(),this.seeAllLayers(),this.showBboxLayers(),this.bounds&&this.map.fitBounds(this.bounds)},searchBboxBoundsById:function(t){var e=null;return this.bboxLayer.eachLayer((function(a){if(a.options.id===t||a.feature&&a.feature.id===t){var n=a.getBounds();e?e.extend(n):e=n}})),e},findBboxById:function(t){var e=c.layerGroup();return this.bboxLayer&&this.bboxLayer.eachLayer((function(a){(a.options.id===t||a.feature&&a.feature.id===t)&&e.addLayer(a)})),e},selectBboxById:function(t,e){var a=this,n=null,i=this.findBboxById(t);return this.setSelected(i),n=null,i.eachLayer((function(t){var e=t.getBounds();n?n.extend(e):n=e})),n&&a.map.fitBounds(n,{animate:!0,duration:100,padding:[50,50]}),e?(setTimeout((function(){a.unselectBbox()}),2e3),null):n},setSelected:function(t){this.selected.push(t);var e=this.selectedOptions;t.eachLayer((function(t){t.setStyle(e)}))},handleReset:function(t){for(var e in this.bboxLayer)this.bboxLayer[e]&&this.bboxLayer[e].remove&&this.bboxLayer[e].remove();this.bboxLayer=[],this.bounds=[],this.$store.commit("searchAreaChange",null)}}};a(7946),a(4233);var u=a(6560);const m=a.n(u)();var p=(0,s.Z)(h,(function(){return this._self._c,this._m(0)}),[function(){var t=this._self._c;return t("span",{attrs:{id:"fmtLitleMap"}},[t("div",{staticClass:"mtdt-small",attrs:{id:"fmtMap"}})])}],!1,null,null,null);"function"==typeof m&&m(p);const f=p.exports,g={name:"FormaterDimension",components:{},props:{dimension:{type:Object|Array,default:[]},checked:{type:Boolean,default:!1},disable:{type:Boolean,default:!1},name:{type:String,default:""},value:{type:String,default:""},count:{type:String,default:""}},data:function(){return{isChecked:!1}},computed:{strCount:function(){return this.dimension["@count"]>0?"("+this.dimension["@count"]+")":"(0)"}},watch:{checked:function(t){t||(this.isChecked=t)}},mounted:function(){this.isChecked=this.checked,this.resetEventListener=this.handleReset.bind(this),document.addEventListener("aerisResetEvent",this.resetEventListener),this.searchEventListener=this.handleSearch.bind(this),document.addEventListener("aerisSearchEvent",this.searchEventListener)},destroyed:function(){document.removeEventListener("aerisResetEvent",this.resetEventListener),this.resetEventListener=null,document.removeEventListener("aerisSearchEvent",this.searchEventListener),this.searchEventListener=null},methods:{getValue:function(){return this.isChecked?this.value:null},handleChange:function(){this.disable||(this.isChecked=!this.isChecked,this.$emit("change",{name:this.value,value:this.isChecked}))},handleSearch:function(t){this.isChecked&&(t.detail[this.name]?t.detail[this.name]=t.detail[this.name]+"+or+"+this.value:t.detail[this.name]=this.value)},handleReset:function(t){this.isChecked=!1}}};a(9006);const y={name:"FormaterDimensionBlock",components:{FormaterDimension:(0,s.Z)(g,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"mtdt-dimension",class:{disable:t.disable}},[e("label",{staticStyle:{"vertical-align":"top"},attrs:{for:t.name},on:{click:function(e){return t.handleChange()}}},[t.isChecked?e("i",{staticClass:"fa fa-check-square-o"}):t._e(),t._v(" "),t.isChecked?t._e():e("i",{staticClass:"fa fa-square-o"})]),t._v(" "),e("div",{staticClass:"mtdt-dimension-title"},[t._v("\n\t        "+t._s(t.dimension["@label"])+" "+t._s(t.strCount)+"\n\t     ")])])}),[],!1,null,null,null).exports},props:{dimension:{type:Object|Array,default:function(){return[]}},name:{type:String,default:""},disable:{type:Boolean,default:!1},defaut:{type:String,default:""}},data:function(){return{values:{}}},created:function(){this.fill()},computed:{filteredName:function(){return"groupOwner"===this.name?"_"+this.name:this.name}},watch:{dimension:function(t){this.fill()}},methods:{fill:function(){var t=[];this.$route.query[this.filteredName]&&(t=decodeURIComponent(this.$route.query[this.filteredName]).split("+or+"));var e=[];for(var a in this.dimension){var n=this.dimension[a];n.value=n["@value"],n.checked=t.indexOf(n.value)>=0,e.push(n)}e.sort((function(t,e){return t["@label"]<e["@label"]?-1:1})),this.values=e},change:function(t){var e=[];this.$refs[this.filteredName].forEach((function(t){var a=t.getValue();null!==a&&e.push(a)}));var a={};for(var n in this.$route.query)a[n]=this.$route.query[n];e.length>0?a[this.filteredName]=e.join("+or+"):delete a[this.filteredName],this.$router.push({name:this.$route.name,params:this.$route.params,query:a})}}};a(248);const v=(0,s.Z)(y,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"mtdt-dimension-block"},t._l(t.values,(function(a,n){return e("formater-dimension",{key:n,ref:t.filteredName,refInFor:!0,attrs:{disable:t.disable,value:a.value,checked:a.checked,dimension:a,name:t.filteredName},on:{change:t.change}})})),1)}),[],!1,null,null,null).exports,b={name:"FormaterFacet",components:{},props:{dimension:{type:Object|Array,default:[]},facetName:{type:String,default:""},label:{type:String,default:null},value:{type:String,default:""},level:{type:Number,default:0},defaut:{type:String,default:null},disable:{type:Boolean,default:!1}},data:function(){return{categories:[],deployed:!1,isChecked:!1,changed:!1,name:""}},computed:{strCount:function(){return this.dimension["@count"]>0?"("+this.dimension["@count"]+")":"(0)"}},watch:{defaut:function(t){t&&t.indexOf(this.value)>=0?this.isChecked=!0:this.isChecked=!1},label:function(t){this.name=this.label.split("|").pop(),this.defaut&&this.defaut.indexOf(this.value)>=0?this.isChecked=!0:this.isChecked=!1}},mounted:function(){this.name=this.label.split("|").pop(),this.defaut&&this.defaut.indexOf(this.value)>=0?this.isChecked=!0:this.isChecked=!1},destroyed:function(){},methods:{handleChange:function(){this.disable||(this.isChecked=!this.isChecked,this.spreadChange())},spreadChange:function(){if(this.isChecked){(e={})[this.facetName]=this.value;var t=new CustomEvent("fmt:facetChangeEvent",{detail:e});document.dispatchEvent(t)}else if(!this.isChecked&&0===this.level){var e;(e={})[this.facetName]="",t=new CustomEvent("fmt:facetChangeEvent",{detail:e}),document.dispatchEvent(t)}this.$emit("input",this.isChecked)},childChanged:function(t){t&&!this.isChecked&&(this.isChecked=!0,this.$emit("input",this.isChecked)),!t&&this.isChecked&&this.spreadChange()},childValue:function(t){return(this.value?this.value+"/":"")+encodeURIComponent(this.dimension.category[t]["@value"])}}};a(9313);const x=(0,s.Z)(b,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"mtdt-facet",class:{disable:t.disable&&0===t.level}},[e("label",{staticStyle:{"vertical-align":"top"},on:{click:function(e){return t.handleChange()}}},[t.isChecked?e("i",{staticClass:"fa fa-check-square-o"}):t._e(),t._v(" "),t.isChecked?t._e():e("i",{staticClass:"fa fa-square-o"})]),t._v(" "),e("div",{staticClass:"mtdt-facet-title"},[t._v("\n\t        "+t._s(t.name)+" "+t._s(t.strCount)+"\n\t     ")]),t._v(" "),t.dimension.category&&t.dimension.category.length>0?e("div",{class:{deployed:t.deployed},staticStyle:{float:"right"},on:{click:function(e){t.deployed=!t.deployed}}},[e("i",{staticClass:"fa fa-plus-square-o"}),t._v(" "),e("i",{staticClass:"fa fa-minus-square-o"})]):t._e(),t._v(" "),t.dimension.category&&t.dimension.category.length>0?e("div",{staticClass:"mtdt-child"},t._l(t.dimension.category,(function(a,n){return e("formater-facet",{key:n,attrs:{level:t.level+1,defaut:t.defaut,"facet-name":t.facetName,label:a["@label"],value:t.childValue(n),dimension:a},on:{input:t.childChanged}})})),1):t._e()])}),[],!1,null,null,null).exports;Object.defineProperty(Object.prototype,"renameProperty",{writable:!1,enumerable:!1,configurable:!1,value:function(t,e){return t==e||this.hasOwnProperty(t)&&(this[e]=this[t],delete this[t]),this}});const w={name:"FormaterFacetBlock",components:{FormaterFacet:x},props:{dimension:{type:Object|Array,default:[]},name:{type:String,default:""},disable:{type:Boolean,default:!1},defaut:{type:String,default:null}},data:function(){return{dimensions:[],facetChangeListener:null}},mounted:function(){this.dimension.length>0?this.dimensions=this.dimension:this.dimensions=[this.dimension],this.facetChangeListener=this.facetChange.bind(this),document.addEventListener("fmt:facetChangeEvent",this.facetChangeListener)},destroyed:function(){document.removeEventListener("fmt:facetChangeEvent",this.facetChangeListener),this.facetChangeListener=null},computed:{filteredName:function(){return"groupOwner"===this.name?"_"+this.name:this.name}},methods:{facetChange:function(t){if(void 0!==t.detail[this.name]){var e={};for(var a in this.$route.query)e[a]=this.$route.query[a];var n={};if(e["facet.q"]&&decodeURIComponent(e["facet.q"]).split("&").forEach((function(t){var e=t.split("/");n[e[0]]=e[1]})),""!==t.detail[this.filteredName]?n[this.filteredName]=t.detail[this.filteredName]:delete n[this.filteredName],0===Object.keys(n).length)delete e["facet.q"];else{var i=Object.keys(n).map((function(t){return t+"/"+n[t]})).join("&");e["facet.q"]=encodeURIComponent(i)}this.$router.push({name:this.$route.name,params:this.$route.params,query:e})}}}};a(9451);const _=(0,s.Z)(w,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"mtdt-dimension-block"},t._l(t.dimensions,(function(a,n){return e("formater-facet",{key:n,attrs:{disable:t.disable,level:0,defaut:t.defaut,value:encodeURIComponent(a["@value"]),label:a["@label"],dimension:a,"facet-name":t.filteredName}})})),1)}),[],!1,null,null,null).exports;var L={type:"fa fa-object-group",groupOwner:"fa fa-database",facetGemet:"fa fa-navicon",facetGemetFre:"fa fa-navicon",facetVariable:"fa fa-thermometer-half",facetVariableFre:"fa fa-thermometer-half",facetPlatform:"fa fa-rocket",facetPlatformFre:"fa fa-rocket",facetDiscipline:"fa fa-graduation-cap",facetDisciplineFre:"fa fa-graduation-cap",facetInstrument:"fa fa-calculator"};const C={name:"FormaterForm",components:{FormaterMap:f,FormaterTemporalSearch:n.bj,FormaterSpatialSearch:d,FormaterSearchBox:n.Wm,FormaterDimensionBlock:v,FormaterFacetBlock:_,FormaterParametersForm:function(){return a.e(594).then(a.bind(a,9594))}},props:{disableLevel:{type:Number,default:0},depth:{type:Number,default:null}},data:function(){return{fulltextSearch:"",temp:{from:null,to:null},facets:{},first:!0,parameters:[],dimensions:[],nameToIndex:[],metadataListListener:null,temporalChangedListener:null,pageChangedListener:null}},watch:{$route:function(t){this.initValues(t)}},created:function(){this.addNewFacets(),this.initValues(this.$route),this.temporalChangedListener=this.changeDate.bind(this),document.addEventListener("temporalChangeEvent",this.temporalChangedListener),this.pageChangedListener=this.changePage.bind(this),document.addEventListener("fmt:pageChangedEvent",this.pageChangedListener),this.metadataListListener=this.fill.bind(this),document.addEventListener("fmt:metadataListEvent",this.metadataListListener)},mounted:function(){this.handleTheme()},destroyed:function(){document.removeEventListener("fmt:pageChangedEvent",this.pageChangedListener),this.pageChangedListener=null,document.removeEventListener("temporalChangeEvent",this.temporalChangedListener),this.temporalChangedListener=null,document.removeEventListener("fmt:metadataListEvent",this.metadataListListener),this.metadataListListener=null},methods:{initFacets:function(t){var e=[];t.query["facet.q"]&&decodeURIComponent(t.query["facet.q"]).split("&").forEach((function(t){var a=t.split("/");a[0],a.slice(1),e[a[0]]=a.join("/")})),this.facets=e},initValues:function(t){this.initFacets(this.$route),t.query.any?this.fulltextSearch=t.query.any:this.fulltextSearch=null,t.query.end?this.temp.to=t.query.end:this.temp.to=null,t.query.start?this.temp.from=t.query.start:this.temp.from=null},changeDate:function(t){var e={};for(var a in this.$route.query)e[a]=this.$route.query[a];"extto"===t.detail.name&&(t.detail.value&&"Invalid date"!==t.detail.value?e.end=t.detail.value:delete e.send),"extfrom"===t.detail.name&&(t.detail.value&&"Invalid date"!==t.detail.value?e.start=t.detail.value:delete e.start),this.$router.push({name:this.$route.name,params:this.$route.params,query:e})},changePage:function(t){var e={};for(var a in this.$route.query)e[a]=this.$route.query[a];e=Object.assign(e,t.detail),this.$router.push({name:this.$route.name,params:this.$route.params,query:e})},addNewFacets:function(){var t=this;this.$store.state.facets.forEach((function(e){t.$gn.addFacet(e)}))},facetToIcon:function(t){return L[t]},titleDimension:function(t){return this.$i18n.t(this.dimensions[this.nameToIndex[t]]["@label"])},isFacet:function(t){return t.indexOf("facet")>=0||this.$gn.facets.indexOf(t)>=0},fill:function(t){if(t.detail.summary){var e=this.initializeDimensions(t.detail.summary.dimension);this.updateDimensions(this.dimensions,e,!0),0===t.detail.depth&&this.removeStep2Dimensions(),this.reverseKeyDimensions()}else this.first=!1},removeStep2Dimensions:function(){for(var t=this.dimensions.length-1;t>=0;t--)this.$store.state.gnParameters.step2.indexOf(this.dimensions[t]["@name"])>=0&&(delete this.nameToIndex[this.dimensions[t]["@name"]],this.dimensions.splice(t,1))},reverseKeyDimensions:function(){var t=this;this.dimensions.forEach((function(e,a){t.nameToIndex[e["@name"]]=a}))},initializeDimensions:function(t){var e=null;e=t.length>0?t:[t];var a=this;return e.forEach((function(t,n){t.category&&(e[n].category=a.initializeDimensions(t.category,!1))})),e},updateDimensions:function(t,e,a){if(!t)return null;Array.isArray(e)||(e=[e]);var n=this;return t.forEach((function(a,i){var s=e.find((function(t){return t["@name"]?t["@name"]===a["@name"]:t["@value"]?t["@value"]===a["@value"]:void 0}));if(void 0===s?n.$set(t[i],"@count",0):n.$set(t[i],"@count",s["@count"]),t[i].category||void 0!==s&&s.category){var r=[];void 0!==s&&s.category&&(r=s.category),void 0===t[i].category&&(t[i].category=[]),t[i].category=n.updateDimensions(t[i].category,r,!1)}})),e.forEach((function(e,n){var i=t.find((function(t){return t["@name"]?t["@name"]===e["@name"]:t["@value"]?t["@value"]===e["@value"]:void 0}));(!i||"undefined"===i["@count"]&&a)&&t.push(e)})),t.sort((function(t,e){return t["@label"]?t["@label"]>e["@label"]?1:-1:t["@name"]?t["@name"]>e["@name"]?1:-1:t["@value"]?t["@value"]>e["@value"]?1:-1:void 0})),t},reset:function(){this.$router.push({name:this.$route.name,params:this.$route.params,query:{}});var t=new CustomEvent("aerisResetEvent");document.dispatchEvent(t)},handleReset:function(){this.fulltextSearch="",this.$store.commit("selectAreaChange",null)},handleSearch:function(t){if(t.detail.lang=this.$i18n.locale,this.fulltextSearch.length>0&&(t.detail.any=this.fulltextSearch),this.$store.state.group){var e="";this.$store.state.group.forEach((function(t){e+=t+"+or+"})),e.length>4&&(t.detail._groupOwner=e.substr(0,e.length-4))}},handleTheme:function(){(t=this.$el.querySelector("#globalReset")).style.backgroundColor=this.$store.state.style.primary;var t,e=this.$shadeColor(this.$store.state.style.primary,.2);t.style.borderColor=e,(t=this.$el.querySelector(".formater-input-group")).style.backgroundColor=this.$shadeColor(this.$store.state.style.emphasis,.8)},changeTextOnEnter:function(t){if(13==t.which||13==t.keyCode)return this.changeText(t),!1},changeText:function(t){var e=this.$route,a={};for(var n in e.query)a[n]=e.query[n];a.any=this.fulltextSearch,""===a.any&&delete a.any,this.$router.push({name:this.$route.name,params:this.$route.params,query:a})}}};a(2946);var k=a(2034);const $=a.n(k)();var E=(0,s.Z)(C,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"mtdt-form"},[e("div",{staticStyle:{"text-align":"center",margin:"10px 0 30px 0"}},[e("input",{attrs:{id:"globalReset",type:"button",value:t.$t("reset")},on:{click:t.reset}})]),t._v(" "),e("div",{staticClass:"formater-input-group",class:{disable:t.$store.state.disable.searchTerm},staticStyle:{margin:"10px",width:"calc(100% - 20px)"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.fulltextSearch,expression:"fulltextSearch"}],attrs:{id:"any",name:"any",placeholder:t.$t("search")},domProps:{value:t.fulltextSearch},on:{keypress:t.changeTextOnEnter,input:function(e){e.target.composing||(t.fulltextSearch=e.target.value)}}}),e("i",{staticClass:"fa fa-search"})]),t._v(" "),e("formater-map",{attrs:{depth:t.depth}}),t._v(" "),e("formater-search-box",{attrs:{color:t.$store.state.style.primary,"header-icon-class":"fa fa-globe","open-icon-class":"fa fa-caret-right",title:t.$t("spatial_extent"),deployed:!1,type:"empty","disable-level":+t.$store.state.disable.spatial}},[e("formater-spatial-search",{attrs:{disable:t.$store.state.disable.spatial,color:t.$store.state.style.emphasis,lang:t.$store.state.lang}})],1),t._v(" "),e("formater-search-box",{attrs:{color:t.$store.state.style.primary,"header-icon-class":"fa fa-calendar","open-icon-class":"fa fa-caret-right",title:t.$t("time_slot"),deployed:!0,type:"empty","disable-level":+t.$store.state.disable.temporal}},[e("formater-temporal-search",{attrs:{lang:t.$i18n.locale,name:"ext",daymin:t.$store.state.temporalExtent.min,daymax:t.$store.state.temporalExtent.max,color:t.$store.state.style.emphasis,disable:t.$store.state.disable.temporal,"default-from":t.temp.from,"default-to":t.temp.to}})],1),t._v(" "),t.$store.state.parameters.others.length>0?e("formater-search-box",{attrs:{color:t.$store.state.style.primary,"header-icon-class":"fa fa-thermometer-3","open-icon-class":"fa fa-caret-right",title:t.$t("parameters"),deployed:!0,type:"empty"}},[e("formater-parameters-form",{attrs:{parameters:t.$store.state.parameters.others,depth:t.depth}})],1):t._e(),t._v(" "),t._l(t.$store.state.gnParameters.step1,(function(a,n){return e("div",{attrs:{disable:t.depth>0}},[t.dimensions[t.nameToIndex[a]]&&t.dimensions[t.nameToIndex[a]].category?e("formater-search-box",{attrs:{color:t.$store.state.style.primary,"header-icon-class":t.facetToIcon(a),"open-icon-class":"fa fa-caret-right",title:t.titleDimension(a),"disable-level":t.depth>0?1:0,type:"empty"}},[t.isFacet(a)?t._e():e("formater-dimension-block",{attrs:{dimension:t.dimensions[t.nameToIndex[a]].category,name:a,disable:t.depth>0}}),t._v(" "),t.isFacet(a)?e("formater-facet-block",{attrs:{dimension:t.dimensions[t.nameToIndex[a]].category,name:a,disable:t.depth>0,defaut:t.facets[a]}}):t._e()],1):t._e()],1)})),t._v(" "),t._l(t.$store.state.gnParameters.step1step2,(function(a,n){return e("div",[t.dimensions[t.nameToIndex[a]]&&t.dimensions[t.nameToIndex[a]].category?e("formater-search-box",{attrs:{color:t.$store.state.style.primary,"header-icon-class":t.facetToIcon(a),"open-icon-class":"fa fa-caret-right",title:t.titleDimension(a),"disable-level":t.$store.state.disable.other?1:0,type:"empty"}},[t.isFacet(a)?t._e():e("formater-dimension-block",{attrs:{dimension:t.dimensions[t.nameToIndex[a]].category,disable:t.$store.state.disable.other,name:a}}),t._v(" "),t.isFacet(a)?e("formater-facet-block",{attrs:{dimension:t.dimensions[t.nameToIndex[a]].category,disable:t.$store.state.disable.other,name:a,defaut:t.facets[a]}}):t._e()],1):t._e()],1)})),t._v(" "),t._l(t.$store.state.gnParameters.step2,(function(a,n){return t.depth>0?e("div",[t.dimensions[t.nameToIndex[a]]&&t.dimensions[t.nameToIndex[a]].category?e("formater-search-box",{attrs:{color:t.$store.state.style.primary,"header-icon-class":t.facetToIcon(a),"open-icon-class":"fa fa-caret-right",title:t.titleDimension(a),"disable-level":t.$store.state.disable.other?1:0,type:"empty"}},[t.isFacet(a)?t._e():e("formater-dimension-block",{ref:a,refInFor:!0,attrs:{dimension:t.dimensions[t.nameToIndex[a]].category,disable:t.$store.state.disable.other,name:a}}),t._v(" "),t.isFacet(a)?e("formater-facet-block",{attrs:{dimension:t.dimensions[t.nameToIndex[a]].category,disable:t.$store.state.disable.other,name:a,defaut:t.facets[a]}}):t._e()],1):t._e()],1):t._e()}))],2)}),[],!1,null,null,null);"function"==typeof $&&$(E);const S=E.exports},8086:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>w});const n={name:"FormaterOnline",components:{},props:{lang:{type:String,default:"en"},online:{type:Object,default:null}},watch:{lang:function(t){this.$i18n.locale=t}},data:function(){return{icons:{download:"fa-download",information:"fa-info",offlineAccess:"fa-times-rectangle-o",order:"fa-sign-in",search:"fa-search"}}},created:function(){this.$i18n.locale=this.lang,this.$setGnLocale(this.lang),this.online=this.online},methods:{toClass:function(){return this.icons[this.online.function]?this.icons[this.online.function]:"fa-link"}}};a(175);var i=a(1900),s=a(8669);const r=a.n(s)();var o=(0,i.Z)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"mtdt-online"},[e("a",{attrs:{href:t.$gnExtractText(t.online.url,t.lang)}},[e("i",{staticClass:"fa",class:t.toClass(t.online.function)}),t._v(t._s(t.$gnExtractText(t.online.title,t.lang))+"\n ")])])}),[],!1,null,null,null);"function"==typeof r&&r(o);const l=o.exports;var d=a(8102),c=a(6029),h=a(381),u=a.n(h);const m={name:"FormaterCartoucheMetadata",components:{FormaterOnline:l,FormaterRelated:d.Z,FormaterParameters:function(){return a.e(445).then(a.bind(a,3445))},FormaterTemporalExtent:c.Z},props:{metadata:{type:Object,default:null},access:{type:Object,default:function(){return{view:"free",download:"free"}}},cds:{type:String,default:null},depth:{type:Number,default:0},type:{type:String,default:null}},computed:{width:function(){var t=this.depth?3:0;return this.$store.state.size.capsuleWidth-t},primary:function(){return this.$store.state.style.primary},emphasis:function(){return this.$store.state.style.emphasis}},data:function(){return{meta:{},uuid:null,dataCenter:null,hasBboxLayer:!1,layerAdded:!1}},created:function(){u().locale(this.$i18n.locale),this.meta=this.metadata,this.meta.treatment||(this.meta.treatment={}),this.meta.treatment.layerAdded=!1,(this.meta.geoBox||this.meta.id)&&(this.hasBboxLayer=!0),this.cds?this.dataCenter=this.cds:this.metadata.groupOwner&&(this.dataCenter=this.$gn.t("group-"+this.metadata.groupOwner))},methods:{displayMetadata:function(){if("geonetwork"===this.type){var t={};this.$route.query.box&&(t.box=this.$route.query.box),this.$route.query.start&&(t.start=this.$route.query.start),this.$route.query.end&&(t.end=this.$route.query.end),this.$store.commit("newRoute",this.$route),this.$router.push({name:"Metadata",params:{uuid:this.meta.id},query:t})}else{var e=new CustomEvent("fmt:metadataEvent",{detail:{meta:this.meta,depth:-1}});document.dispatchEvent(e),this.meta.access=this.access,this.$store.commit("selectMetadata",this.meta)}}}};a(7331);var p=a(127);const f=a.n(p)();var g=(0,i.Z)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"mtdt-cartouche-metadata mtdt-capsule",class:{"mtdt-child":t.depth>0},style:{width:t.width+"px"}},[e("div",{staticClass:"mtdt-header",style:{backgroundColor:t.emphasis},on:{click:t.displayMetadata,dblclick:t.displayMetadata}},[["dataset","series"].indexOf(t.meta.type)>=0?e("i",{staticClass:"fa",class:"series"===t.meta.type?"fa-files-o":"fa-file",attrs:{title:t.$gn.t(t.meta.type)}}):t._e(),t._v(" "),e("div",[t._v(t._s(t.meta.title?t.meta.title:t.meta.defaultTitle))])]),t._v(" "),e("div",{staticClass:"mtdt-description"},[t.meta.thumbnail||t.meta.status?e("div",{staticStyle:{display:"block",float:"left","max-width":"120px"}},[t.meta.thumbnail?e("img",{attrs:{src:t.meta.thumbnail}}):t._e(),t._v(" "),t.meta.status?e("div",{staticClass:"mtdt-status",style:{color:t.$store.state.style.primary,borderColor:t.$store.state.style.primary}},[t._v("\n        "+t._s(t.$t(t.meta.status))+"\n        ")]):t._e()]):t._e(),t._v(" "),e("formater-temporal-extent",{attrs:{start:t.meta.tempExtentBegin,end:t.meta.tempExtentEnd}}),t._v(" "),t.metadata.summary?e("div",{staticClass:"summary",staticStyle:{padding:"5px 0"},domProps:{innerHTML:t._s(decodeURIComponent(t.metadata.summary))}}):t._e(),t._v(" "),t.meta.description?e("div",{staticStyle:{padding:"5px 0"},domProps:{innerHTML:t._s(t.meta.description)}}):t._e(),t._v(" "),e("formater-parameters",{attrs:{type:"cartouche",metadata:t.meta}})],1),t._v(" "),t.depth>0&&t.meta.related&&t.meta.related.onlines?e("div",{staticClass:"mtdt-resource"}):t._e(),t._v(" "),e("div",{staticClass:"mtdt-footer"},[0===t.depth?e("div",{staticClass:"mtdt-group"},[t.meta.groupWebsite?e("a",{staticClass:"mtdt-group-logo",attrs:{href:t.meta.groupWebsite,title:t.$gn.t("group-"+t.meta.groupOwner),target:"_blank"}},[e("img",{attrs:{src:t.meta.logo}})]):e("a",{staticClass:"mtdt-group-logo",attrs:{href:"#",alt:t.$gn.t("group-"+t.meta.groupOwner),title:t.$gn.t("group-"+t.meta.groupOwner)}},[e("img",{attrs:{src:t.meta.logo}})])]):t._e(),t._v(" "),e("formater-related",{attrs:{type:"cartouche",title:t.meta.title,access:t.access,id:t.meta.id,cds:t.dataCenter,download:t.meta.download,order:t.meta.order,"has-bbox-layer":t.hasBboxLayer,layers:t.meta.layers,links:t.meta.links,related:t.meta.related}})],1)])}),[],!1,null,null,null);"function"==typeof f&&f(g);const y={name:"FormaterListMetadata",components:{FormaterCartoucheMetadata:g.exports},props:{cds:{type:String,default:null},access:{type:Object,default:function(){return{search:"free",view:"free",download:"free"}}},depth:{type:Number,default:0},service:{type:Number,default:-1}},data:function(){return{metadatas:{},related:[],metadataListListener:null,type:null,flatsimLayerList:["CLASSIFICATION","CONFIDENCE","PIXELS_VALIDITY"]}},created:function(){this.metadataListListener=this.receiveMetadatas.bind(this),document.addEventListener("fmt:metadataListEvent",this.metadataListListener)},destroyed:function(){document.removeEventListener("fmt:metadataListEvent",this.metadataListListener),this.metadataListListener=null},methods:{receiveMetadatas:function(t){this.type=t.detail.type,this.metadatas=t.detail.metadata,this.metadatas&&this.$emit("hasChild",!0),"geonetwork"===this.type&&this.searchRelated()},searchRelated:function(){var t=this;if(this.metadatas){this.$store.commit("searchingChange",!0);var e={Accept:"application/json, text/plain, */*","Accept-Language":"fr"===this.$i18n.locale?"fre":"eng"},a=this.$store.state.geonetwork+"srv/api/related?type=associated&type=siblings";a+="&uuid="+Object.keys(this.metadatas).join("&uuid=");var n=this;this.$http.get(a,{headers:e}).then((function(t){n.addRelated(t.body)}),(function(e){t.$store.commit("searchingChange",!1)}))}},addRelated:function(t){for(var e in this.metadatas)if(t[e]){var a=0;for(var n in t[e])null===t[e][n]?delete t[e][n]:a++;a>0&&this.$set(this.metadatas[e],"related",t[e])}this.$store.commit("searchingChange",!1)}}};a(7178);var v=a(7479);const b=a.n(v)();var x=(0,i.Z)(y,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"mtdt-list"},[t.metadatas?t._e():e("div",{staticStyle:{width:"calc(100% - 150px)"}},[t._v(t._s(t.$t("no_result")))]),t._v(" "),t._l(t.metadatas,(function(a,n){return a?e("formater-cartouche-metadata",{key:n,attrs:{access:t.access,depth:t.depth,cds:t.cds,type:t.type,metadata:a}}):t._e()}))],2)}),[],!1,null,"75d24c10",null);"function"==typeof b&&b(x);const w=x.exports},6103:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>l});const n={name:"FormaterPaging",components:{FormaterSelect:a(6490).aT},props:{depth:{type:Number,default:0},type:{type:String,default:"geonetwork"},orders:{type:Array,default:function(){return[]}},orderBy:{type:String,default:null}},computed:{recordByLine:function(){return this.$store.state.size.recordByLine}},watch:{$route:function(t){t.query.from&&t.query.to?this.recordPerPage=t.query.to-t.query.from+1:this.recordPerPage=this.$store.state.size.nbRecord}},created:function(){this.$route&&this.$route.query.from&&this.$route.query.to?this.recordPerPage=parseInt(this.$route.query.to)-parseInt(this.$route.query.from)+1:this.recordPerPage=this.$store.state.size.nbRecord,this.updateRecordsPerPage(this.recordByLine),this.$route.query.from&&(this.from=parseInt(this.$route.query.from),this.currentPage=(this.from-1)/this.recordPerPage+1),this.sortBy=this.orderBy,this.$route.query.sortBy&&(this.sortBy=this.$route.query.sortBy),this.metadataListListener=this.receiveTotalRecord.bind(this),document.addEventListener("fmt:metadataListEvent",this.metadataListListener),this.searchEventListener=this.handleSearch.bind(this),document.addEventListener("aerisSearchEvent",this.searchEventListener),this.resetEventListener=this.handleReset.bind(this),document.addEventListener("aerisResetEvent",this.resetEventListener);var t=this;this.orders.forEach((function(e){t.options[e]=t.$i18n.t(e)}))},mounted:function(){this.handleTheme()},destroyed:function(){document.removeEventListener("fmt:metadataListEvent",this.metadataListListener),this.metadataListListener=null,document.addEventListener("aerisSearchEvent",this.searchEventListener),this.searchEventListener=null,document.addEventListener("aerisResetEvent",this.resetEventListener),this.resetEventListener=null},data:function(){return{initializeSort:!0,initializeMaxRecords:!0,recordPerPage:24,recordsPerPage:{24:"24 per page"},count:0,currentPage:1,nbPage:0,from:1,to:24,notExactly:"",options:{},metadataListListener:null,searchEventListener:null}},methods:{receiveTotalRecord:function(t){switch(t.detail.metadata||(this.count=0,this.from=1,this.to=0),this.type){case"geonetwork":t.detail.summary&&(this.count=parseInt(t.detail.summary["@count"]),this.from=parseInt(t.detail["@from"]),this.to=parseInt(t.detail["@to"]),this.currentPage=(this.from-1)/this.recordPerPage+1,this.nbPage=Math.ceil(t.detail.summary["@count"]/this.recordPerPage));break;case"opensearch":t.detail.properties&&(this.count=t.detail.properties.totalResults,this.to=this.from+Object.keys(t.detail.metadata).length-1,this.nbPage=Math.ceil(this.count/this.recordPerPage),void 0!==t.detail.properties.exactCount&&(this.notExactly=t.detail.properties.exactCount?"":"~"))}0===this.count&&(this.from=1,this.currentPage=1),0!=this.count&&this.currentPage>this.nbPage&&this.goToLast()},updateRecordsPerPage:function(t){for(var e={},a=1,n=t*a;a<9;)this.recordPerPage<n&&this.recordPerPage>(a-1)*t&&(e[this.recordPerPage]=this.recordPerPage+" "+this.$t("per_page")),e[n]=n+" "+this.$t("per_page"),n=t*++a;this.recordPerPage||(this.recordPerPage=4*t),this.recordsPerPage=e},goToFirst:function(){this.from=1,this.currentPage=1,this.emitChange()},goToLast:function(){this.from=(this.nbPage-1)*this.recordPerPage+1,this.currentPage=this.nbPage,this.emitChange()},handleReset:function(t){this.from=1,this.currentPage=1},handleSearch:function(t){this.depth==t.detail.depth&&("opensearch"===this.type?(t.detail.index=this.from,t.detail.maxRecords=this.recordPerPage):(t.detail.from=this.from,t.detail.to=this.from+this.recordPerPage-1),this.sortBy&&(t.detail.sortBy=this.sortBy))},handleTheme:function(){var t=this.$el.querySelectorAll(".mtdt-paging span.mtdt-navigation span"),e=this;t.forEach((function(t){t.style.backgroundColor=e.$store.state.style.primary}))},changePage:function(t){t<0&&1===this.currentPage||t>0&&this.currentPage===this.nbPage&&!this.notExactly||(this.currentPage+=t,this.from=(this.currentPage-1)*this.recordPerPage+1,this.emitChange())},nbRecordChange:function(t){this.recordPerPage=parseInt(t),this.initializeMaxRecord?this.initializeMaxRecord=!1:this.emitChange()},sortChange:function(t){this.sortBy=t,this.emitChange()},emitChange:function(){var t=this.from+this.recordPerPage-1,e={from:Math.round(this.from),to:Math.round(t)};"geonetwork"===this.type&&(e.sortBy=this.sortBy);var a=new CustomEvent("fmt:pageChangedEvent",{detail:e});document.dispatchEvent(a)}}};a(92);var i=a(1900),s=a(8595);const r=a.n(s)();var o=(0,i.Z)(n,(function(){var t=this,e=t._self._c;return e("span",{staticClass:"mtdt-paging"},[e("div",{staticStyle:{width:"100%","border-bottom":"1px solid #ddd",height:"30px","line-height":"30px","text-align":"center"}},[e("span",{class:{disabled:1===t.currentPage?"disabled":"","mtdt-navigation":!0}},[e("span",{staticClass:"fa fa-angle-double-left",on:{click:function(e){return t.goToFirst()}}}),t._v(" "),e("span",{staticClass:"fa fa-angle-left",on:{click:function(e){return t.changePage(-1)}}})]),t._v(" "),e("span",{staticStyle:{margin:"0 10px"},domProps:{innerHTML:t._s(t.$tc("results",t.count,{from:0===t.count?0:t.from,to:t.to,notExactly:t.notExactly,count:t.count}))}}),t._v("\n   ("),e("formater-select",{attrs:{name:"recordPerPage",options:t.recordsPerPage,defaut:t.recordPerPage+"",type:"associative",color:"#ffffff"},on:{input:t.nbRecordChange}}),t._v(")\n   "),e("span",{class:{disabled:t.notExactly||t.currentPage!==t.nbPage&&0!==t.count?"":"disabled","mtdt-navigation":!0}},[e("span",{staticClass:"fa fa-angle-right",on:{click:function(e){return t.changePage(1)}}}),t._v(" "),e("span",{staticClass:"fa fa-angle-double-right",on:{click:function(e){return t.goToLast()}}})]),t._v(" "),t.orders.length>0?e("div",{staticStyle:{float:"right",display:"inline-block"}},[t._v("\n    "+t._s(t.$t("sortBy"))+" "),e("formater-select",{attrs:{options:t.options,name:"sortBy",type:"associative",defaut:t.orderBy,color:"#ffffff"},on:{input:t.sortChange}})],1):t._e()],1)])}),[],!1,null,null,null);"function"==typeof r&&r(o);const l=o.exports},8102:(t,e,a)=>{"use strict";a.d(e,{Z:()=>f});var n=a(6273),i=a.n(n);const s={name:"FormaterPlatformList",components:{},props:{siblings:{type:Array,default:[]}},mounted:function(){this.lang="fr"==this.$i18n.locale?"fre":"eng",this.completePlatforms()},data:function(){return{lang:"eng",platforms:[]}},methods:{selectPlatform:function(t){var e=new CustomEvent("fmt:metadataEvent",{detail:{meta:this.platforms[t],depth:-1}});document.dispatchEvent(e),this.$store.commit("selectMetadata",this.platforms[t])},completePlatforms:function(){var t=this;this.platforms=this.siblings;var e={Accept:"application/json, text/plain, */*","Accept-Language":"fr"===this.$i18n.locale?"fre":"eng"},a=this.$store.state.geonetwork+"srv/eng";a+="/q?_content_type=json&buildSummary=false&fast=index";var n=0;a+="&uuid=",this.platforms.forEach((function(t){t.completed||(n++,a+=t.id+"+or+")})),n>0&&(a=a.substr(0,a.length-4),this.$http.get(a,{headers:e}).then((function(e){t.fillPlatforms(e.body)})))},changePlatform:function(t){if(this.$set(t,"checked",!t.checked),t.checked){if(t.layers&&t.layers[0]){var e=new CustomEvent("fmt:addLayerEvent",{detail:{layer:t.layers[0],id:t.id}});document.dispatchEvent(e)}}else t.layers&&t.layers[0]&&(e=new CustomEvent("fmt:removeLayerEvent",{detail:{id:t.layers[0].id}}),document.dispatchEvent(e));var a=!1;this.platforms.forEach((function(t){a=a||t.checked})),this.$emit("platformAdded",a)},fillPlatforms:function(t){this.time=this.time+1,t.metadata&&void 0===t.metadata.length&&(t.metadata=[t.metadata]);var e=this;this.platforms.forEach((function(a,n){var i=t.metadata.find((function(t){return a.id===t["geonet:info"].uuid})),s=a.initiativeType;(i=e.$gn.treatmentMetadata(i,a.id)).checked=!1,i.initiativeType=s,e.$set(e.platforms,n,i)}))}}};var r=a(1900),o=a(1333);const l=a.n(o)();var d=(0,r.Z)(s,(function(){var t=this,e=t._self._c;return e("span",[e("h4",{style:{color:t.$store.state.style.primary}},[t._v(t._s(t.$tc("platform",t.platforms.length)))]),t._v(" "),e("ul",{staticClass:"mtdt-links"},t._l(t.platforms,(function(a,n){return e("li",{key:n},[e("a",{staticClass:"mtdt-link",attrs:{title:a.abstract},on:{click:function(e){return t.selectPlatform(n)}}},[t._v(t._s(a.title[t.lang]||a.title))]),t._v(" "),a.layers&&a.layers.length>0?e("i",{staticClass:"fa",class:{"fa-square-o":!a.checked,"fa-check-square-o":a.checked},attrs:{"data-platform":n},on:{click:function(e){return t.changePlatform(a)}}}):t._e()])})),0)])}),[],!1,null,null,null);"function"==typeof l&&l(d);const c=d.exports,h={name:"FormaterRelated",components:{ProgressBar:i(),FormaterPlatformList:c},props:{id:{type:String,default:null},depth:{type:Number,default:0},access:{type:Object,default:function(){return{view:"free",download:"free"}}},type:{type:String,default:"cartouche"},download:{type:Array,default:null},order:{type:Array,default:null},hasBboxLayer:{type:Boolean,default:!1},layers:{type:Array,default:null},links:{type:Array,default:null},cds:{type:String,default:null},related:{type:Array|Object,default:null},title:{type:String,default:null}},created:function(){this.lang="fr"===this.$i18n.locale?"fre":"eng",this.checkEmpty()},destroyed:function(){this.downloadLink.forEach((function(t){document.body.remove(t),t=null})),this.downloadLink=[]},computed:{primary:function(){return this.$store.state.style.primary},emphasis:function(){return this.$store.state.style.emphasis},isSelected:function(){return this.$store.state.selectedMetadata===this.id&&"metadata"===this.type},layerAdded:function(){var t=!1;return this.layers.forEach((function(e){t=t||e.checked})),t},platforms:function(){var t=[];return this.related&&this.related.siblings&&this.related.siblings.forEach((function(e){"platform"===e.initiativeType&&t.push(e)})),t},clientId:function(){return this.$store.getters["services/clientId"]},token:function(){return this.$store.getters["services/token"]},rights:function(){return this.$store.getters["user/getAccess"](this.access)},canView:function(){return this.rights.view},canDownload:function(){return this.rights.download}},watch:{isSelected:function(t){t&&this.layers.forEach((function(t){_this.$store.getters["layers/isAdded"](t.id)&&_this.changeLayer(t,!1)}))}},data:function(){return{lang:"eng",empty:!0,platformAdded:!1,message:"",progress:null,abort:!1,downloadLink:[],progressBarOptions:{text:{color:"#000000",shadowEnable:!0,shadowColor:"#000000",fontSize:14,fontFamily:"Helvetica",dynamicPosition:!0,hideText:!1,backgroundColor:"rgba(0,0,0,0.5)"},progress:{color:"#2dbd2d",backgroundColor:"#C0C0C0"},layout:{height:70,width:70,verticalTextAlign:16,horizontalTextAlign:0,zeroOffset:10,strokeWidth:10,progressPadding:0,type:"circle"}}}},mounted:function(){var t=this;this.layers&&-1!==this.depth&&this.layers.forEach((function(e){t.$store.getters["layers/isAdded"](e.id)&&t.changeLayer(e,!1)}))},methods:{abortRequest:function(){this.abort=!0},authorize:function(){if((this.canView||this.canDownload)&&!this.token){var t=new CustomEvent("fmt:needAuthorize");document.dispatchEvent(t)}},checkEmpty:function(){(this.download&&this.download.length>0||this.layers&&this.layers.length>0||this.links&&this.links.length>0||this.platforms&&this.platforms.length>0||this.order&&this.order.length>0)&&(this.empty=!1)},changeLayer:function(t,e){if(this.$set(t,"checked",!t.checked),t.checked){var a=new CustomEvent("fmt:addLayerEvent",{detail:{layer:t,id:this.id,token:this.token,zoom:e}});document.dispatchEvent(a)}else a=new CustomEvent("fmt:removeLayerEvent",{detail:{id:t.id}}),document.dispatchEvent(a)},changePlatform:function(t){this.platformAdded=t},commandLine:function(t,e){var a=new CustomEvent("fmt:commandEvent",{detail:{title:this.title,link:t,token:e}});document.dispatchEvent(a)},record:function(t,e,a){if(this.$store.state.recordUrl){var n={email:this.$store.getters["user/email"],cds:this.cds,app:this.$store.state.app,domain:window.location.hostname,fullpath:this.$route.fullPath,path:this.$route.path,uuid:this.id,link:t,type:e};this.$http.post(this.$store.state.recordUrl,n,{emulateJSON:!0}).then((function(t){a.target.nextElementSibling.click()}),(function(t){a.target.nextElementSibling.click()}))}else a.target.nextElementSibling.click()},triggerDownload:function(t){var e=this;if(this.record(this.download[0].url,"download"),!this.download[t].disabled){var a=this;if(this.downloadLink[t])this.downloadLink[t].click();else{this.$set(this.download[t],"disabled",!0),this.downloadLink[t]=document.createElement("a"),document.body.appendChild(this.downloadLink[t]),a=this;var n=this.download[t].url;this.token&&-1!==this.token&&(n+="?_bearer="+this.token),new URL(n),this.$http.get(n,{responseType:"blob",downloadProgress:function(t){t.total&&(a.progress=Math.round(100*t.loaded/t.total),a.abort&&t.srcElement.abort())}}).then((function(a){var n=a.headers.get("Content-Disposition");if(n){var i=n.match(/filename[^;\n=]*=(\\?\"|'){0,1}([^\\?\"']*)(\\?\"|'){0,1}/i);if(i)var s=i[2]}else{var r=new URL(a.url);s=r.pathname.substring(r.pathname.lastIndexOf("/")+1)}var o=window.URL.createObjectURL(a.bodyBlob);e.downloadLink[t].href=o,e.downloadLink[t].setAttribute("download",s),e.downloadLink[t].click(),e.progress=null,e.$set(e.download[t],"disabled",!1)}),(function(a){switch(e.progress=null,a.status){case 0:e.$set(e.download[t],"disabled",!1),e.abort?e.abort=!1:(e.downloadLink[t].removeAttribute("download"),e.downloadLink[t].href=n,e.downloadLink[t].click());break;case 403:console.log("forbidden"),e.message=e.$i18n.t("download_forbidden");break;case 404:e.message="NOT FOUND";default:console.log(a)}}))}}},handleOver:function(t){t.target.style.color=this.$store.state.style.over},handleOut:function(t){t.target.style.color=this.$store.state.style.link},fixBbox:function(t){var e=this;t.target.fixed=!0,t.target.style.backgroundColor="#8c0209",this.selectBbox(t,!0),setTimeout((function(){t.target.style.backgroundColor=e.primary,t.target.fixed=!1}),2e3)},selectBbox:function(t,e){var a=new CustomEvent("fmt:selectBboxEvent",{detail:{id:this.id,temporaly:!!e}});document.dispatchEvent(a)},unselectBbox:function(t){if(t.target.fixed)t.target.fixed=!t.target.fixed;else{var e=new CustomEvent("fmt:unselectBboxEvent",{detail:{id:this.id}});document.dispatchEvent(e)}}}};a(9029);var u=a(8055);const m=a.n(u)();var p=(0,r.Z)(h,(function(){var t=this,e=t._self._c;return t.empty&&"cartouche"!==t.type?t._e():e("span",{staticClass:"mtdt-related",class:"mtdt-related-"+t.type},[t.message?e("div",{staticClass:"formater-message",on:{click:function(e){t.message=""}}},[t._v(t._s(t.message))]):t._e(),t._v(" "),null!==t.progress&&t.progress<100?e("div",{staticClass:"fmt-progress-bar-container",staticStyle:{width:"70px",padding:"0"}},[e("div",{staticStyle:{width:"100%","text-align":"right"},on:{click:t.abortRequest}},[e("i",{staticClass:"fa fa-close",staticStyle:{color:"darkred",width:"40px","text-align":"right",cursor:"pointer",margin:"0"}})]),t._v(" "),e("progress-bar",{attrs:{value:t.progress,options:t.progressBarOptions}})],1):t._e(),t._v(" "),"cartouche"===t.type&&t.hasBboxLayer?e("div",{staticStyle:{display:"inline-block"}},[e("div",{staticClass:"mtdt-related-type fa fa-dot-circle-o",style:{backgroundColor:t.primary},attrs:{title:t.$t("localize")},on:{click:t.fixBbox}})]):t._e(),t._v(" "),t.layers&&1===t.layers.length&&"cartouche"===t.type?e("div",["free"===t.access.view||t.token&&-1!==t.token&&t.canView?e("div",{staticClass:"mtdt-related-type fa fa-globe",style:{backgroundColor:t.layerAdded?"#8c0209":t.primary},attrs:{title:t.$t("display_layer")},on:{click:function(e){return t.changeLayer(t.layers[0],!0)}}}):!t.token&&t.canView?e("div",{staticClass:"mtdt-related-type fa fa-globe",style:{backgroundColor:t.layerAdded?"#8c0209":t.primary,opacity:.8},attrs:{title:t.$t("display_layer")},on:{click:t.authorize}}):t.token&&!t.canView?e("div",{staticClass:"mtdt-related-type fa fa-globe disabled",style:{backgroundColor:t.layerAdded?"#8c0209":t.primary},attrs:{title:t.$t("display_layer")}}):t._e()]):t._e(),t._v(" "),"metadata"===t.type?e("div"):t._e(),t._v(" "),t.layers&&(t.layers.length>1||"metadata"===t.type&&t.layers.length>0)?e("div",["free"===t.access.view?e("div",{staticClass:"mtdt-related-type fa fa-globe",style:{backgroundColor:t.layerAdded?"#8c0209":t.primary},attrs:{title:t.$t("display_layer")}},["cartouche"===t.type?e("span",{staticClass:"fa fa-caret-down"}):t._e()]):!t.token&&t.canView?e("div",{staticClass:"mtdt-related-type fa fa-globe",style:{backgroundColor:t.layerAdded?"#8c0209":t.primary,opacity:.8},attrs:{title:t.$t("display_layer")},on:{click:t.authorize,mouseover:function(t){return t.preventDefault()}}},["cartouche"===t.type?e("span",{staticClass:"fa fa-caret-down"}):t._e()]):e("div",{staticClass:"mtdt-related-type fa fa-globe",class:{disabled:!t.canView},style:{backgroundColor:t.layerAdded?"#8c0209":t.primary},attrs:{title:t.$t("display_layer")}},["cartouche"===t.type?e("span",{staticClass:"fa fa-caret-down"}):t._e()]),t._v(" "),t.canView||"free"===t.access.view||"metadata"===t.type?e("div",{staticClass:"mtdt-expand"},[t.canView&&!t.token&&"free"!==t.access.view?e("ul",{staticClass:"mtdt-layers"},t._l(t.layers,(function(a,n){return e("li",{key:n,staticStyle:{opacity:"0.8"},on:{click:t.authorize}},[e("i",{staticClass:"fa",class:{"fa-square-o":!a.checked,"fa-check-square-o":a.checked},attrs:{"data-layer":n}}),t._v(" "),e("div",{attrs:{title:a.description}},[t._v(t._s(a.name))])])})),0):e("ul",{staticClass:"mtdt-layers"},t._l(t.layers,(function(a,n){return e("li",{key:n,class:{disabled:!t.canView&&"free"!==t.access.view},on:{click:function(e){return t.changeLayer(a,!0)}}},[e("i",{staticClass:"fa",class:{"fa-square-o":!a.checked,"fa-check-square-o":a.checked},attrs:{"data-layer":n}}),t._v(" "),e("div",{attrs:{title:a.description}},[t._v(t._s(a.name))])])})),0)]):t._e(),t._v(" "),"metadata"===t.type?e("hr"):t._e()]):t._e(),t._v(" "),t.links?e("div",[e("div",{staticClass:"mtdt-related-type fa fa-link",style:{backgroundColor:t.primary}},["cartouche"===t.type?e("span",{staticClass:"fa fa-caret-down"}):t._e()]),t._v(" "),"metadata"===t.type?e("div"):t._e(),t._v(" "),e("div",{staticClass:"mtdt-expand mtdt-links"},[e("ul",t._l(t.links,(function(a,n){return a?e("li",{key:n},[e("a",{attrs:{href:a.href,target:"_blank",title:a.description}},[t._v(t._s(a.title))])]):t._e()})),0)]),t._v(" "),"metadata"===t.type?e("hr"):t._e()]):t._e(),t._v(" "),t.platforms&&t.platforms.length>0?e("div",[e("div",{staticClass:"mtdt-related-type fa fa-map-marker",style:{backgroundColor:t.platformAdded?"#8c0209":t.primary},attrs:{title:t.$tc("platform",t.platforms.length)}},["cartouche"===t.type?e("span",{staticClass:"fa fa-caret-down"}):t._e()]),t._v(" "),"metadata"===t.type?e("div"):t._e(),t._v(" "),e("div",{staticClass:"mtdt-expand"},[e("formater-platform-list",{attrs:{siblings:t.platforms},on:{platformAdded:t.changePlatform}})],1),t._v(" "),"metadata"===t.type?e("hr"):t._e()]):t._e(),t._v(" "),t.download&&1===t.download.length&&"cartouche"===t.type?e("div",["free"===t.access.download?e("span",{attrs:{href:t.download[0].url,target:"_blank",title:t.$t("download_data")}},[e("span",{staticClass:"mtdt-related-type fa fa-download",style:{backgroundColor:t.primary},on:{click:function(e){return t.record(t.download[0].url,"download",e)}}}),t._v(" "),e("a",{staticStyle:{display:"none"},attrs:{href:t.download[0].url,target:"_blank"}})]):t.token&&-1!==t.token&&t.canDownload?e("span",{class:{disabled:t.download[0].disabled},attrs:{title:t.$t("download_data")}},[e("span",{staticClass:"mtdt-related-type fa fa-download",style:{backgroundColor:t.primary},on:{click:function(e){return t.record(t.download[0].url,"download",e)}}}),t._v(" "),e("a",{staticStyle:{display:"none"},attrs:{href:t.download[0].url+"?_bearer="+t.token}})]):!t.token&&t.canDownload?e("span",{on:{click:t.authorize}},[e("span",{staticClass:"mtdt-related-type fa fa-download",style:{backgroundColor:t.primary,opacity:.8}})]):e("span",{class:{disabled:t.download[0].disabled||!t.token||!t.canDownload},attrs:{title:t.$t("download_data")}},[e("span",{staticClass:"mtdt-related-type fa fa-download",style:{backgroundColor:t.primary}})])]):t._e(),t._v(" "),t.download&&1===t.download.length&&"cartouche"===t.type&&t.token&&-1!==t.token&&t.canDownload?e("div",{attrs:{title:t.$t("command_line")},on:{click:function(e){return t.commandLine(t.download[0],t.token)}}},[e("span",{staticClass:"mtdt-related-type fa fa-terminal"})]):t._e(),t._v(" "),t.download&&(t.download.length>1||"metadata"===t.type&&t.download.length>0)?e("div",["free"===t.access.download?e("div",{staticClass:"mtdt-related-type fa fa-download",style:{backgroundColor:t.primary},attrs:{title:t.$t("download_data")}},["cartouche"===t.type?e("span",{staticClass:"fa fa-caret-down"}):t._e()]):!t.token&&t.canDownload?e("div",{staticClass:"mtdt-related-type fa fa-download",style:{backgroundColor:t.primary,opacity:.8},attrs:{title:t.$t("download_data")},on:{click:t.authorize}},["cartouche"===t.type?e("span",{staticClass:"fa fa-caret-down"}):t._e()]):e("div",{staticClass:"mtdt-related-type fa fa-download",class:{disabled:!t.canDownload},style:{backgroundColor:t.primary},attrs:{title:t.$t("download_data")}},["cartouche"===t.type?e("span",{staticClass:"fa fa-caret-down"}):t._e()]),t._v(" "),"metadata"===t.type?e("div"):t._e(),t._v(" "),e("div",{staticClass:"mtdt-expand mtdt-links"},[e("ul",t._l(t.download,(function(a,n){return e("li",{key:n},["free"===t.access.download?e("span",[e("span",{attrs:{title:a.description},on:{click:function(e){return t.record(a.url,"download",e)}}},[t._v("\n                  "+t._s(a.name?a.name:t.$t("download_data"))+"\n              ")]),t._v(" "),e("a",{staticStyle:{display:"none"},attrs:{href:a.url,target:"_blank"}})]):t.token&&-1!==t.token&&t.canDownload?e("span",[e("span",{attrs:{title:a.description},on:{click:function(e){return t.record(a.url,"download",e)}}},[t._v("\n                 "+t._s(a.name?a.name:t.$t("download_data"))+"\n               ")]),t._v(" "),e("a",{staticStyle:{display:"none"},attrs:{href:a.url+"?_bearer="+t.token}})]):!t.token&&t.canDownload?e("span",{staticStyle:{opacity:"0.8"},on:{click:t.authorize}},[t._v("\n              "+t._s(a.name?a.name:t.$t("download_data"))+"\n           ")]):t.canDownload?e("span",{attrs:{title:a.description}},[t._v(t._s(a.name?a.name:t.$t("download_data")))]):e("span",{staticClass:"disabled"},[t._v("\n              "+t._s(a.name?a.name:t.$t("download_data"))+"\n           ")])])})),0)]),t._v(" "),"metadata"===t.type?e("hr"):t._e()]):t._e(),t._v(" "),t.order&&1===t.order.length&&"cartouche"===t.type?e("div",[e("span",{attrs:{title:t.$t("order_data")}},[e("span",{staticClass:"mtdt-related-type fa fa-pencil-square-o",style:{backgroundColor:t.primary},on:{click:function(e){return t.record(t.order[0].url,"order",e)}}}),t._v(" "),e("a",{staticStyle:{display:"none"},attrs:{target:"_blank",href:t.order[0].url}})])]):t._e(),t._v(" "),t.order&&(t.order.length>1||"metadata"===t.type)?e("div",[e("div",{staticClass:"mtdt-related-type fa fa-pencil-square-o",style:{backgroundColor:t.primary},attrs:{title:t.$t("order_data")}},["cartouche"===t.type?e("span",{staticClass:"fa fa-caret-down"}):t._e()]),t._v(" "),"metadata"===t.type?e("div"):t._e(),t._v(" "),e("div",{staticClass:"mtdt-expand mtdt-links"},["metadata"===t.type?e("h4",{style:{color:t.$store.state.style.primary}},[t._v(t._s(t.$t("order_data")))]):t._e(),t._v(" "),e("ul",t._l(t.order,(function(a,n){return e("li",{key:n},[e("span",{attrs:{title:a.description}},[e("span",{on:{click:function(e){return t.record(a.url,"order",e)}}},[t._v(t._s(a.name?a.name:t.$t("order_data")))]),t._v(" "),e("a",{staticStyle:{display:"none"},attrs:{href:a.url,target:"_blank"}})])])})),0)]),t._v(" "),"metadata"===t.type?e("hr"):t._e()]):t._e()])}),[],!1,null,null,null);"function"==typeof m&&m(p);const f=p.exports},6029:(t,e,a)=>{"use strict";a.d(e,{Z:()=>h});var n=a(381),i=a.n(n);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}const r={name:"FormaterTemporalExtent",props:{start:{type:Object|String,default:null},end:{type:Object|String,default:null}},data:function(){return{startDate:null,endDate:null}},created:function(){this.start&&"object"===s(this.start)?this.startDate=this.start[0]:this.startDate=this.start,this.end&&"object"===s(this.end)?this.endDate=this.end[0]:this.endDate=this.end},methods:{date2str:function(t){var e=i()(t,"YYYY-MM-DD");return e.isValid()?e.format("ll"):this.$i18n.t("now")}}};a(1391);var o=a(1900),l=a(8415);const d=a.n(l)();var c=(0,o.Z)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"mtdt-cartouche-elt"},[t.startDate?e("span",[e("span",[t._v(t._s(t.date2str(t.startDate)))]),t._v(" "),e("i",{staticClass:"fa fa-long-arrow-right",style:{color:t.$store.state.style.primary}}),t._v(" "),e("span",[t._v(t._s(t.date2str(t.endDate)))])]):t._e()])}),[],!1,null,null,null);"function"==typeof d&&d(c);const h=c.exports},7331:(t,e,a)=>{var n=a(2980);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals),(0,a(5346).Z)("fad62a20",n,!0,{})},248:(t,e,a)=>{var n=a(5495);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals),(0,a(5346).Z)("cbd9c3de",n,!0,{})},9006:(t,e,a)=>{var n=a(6546);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals),(0,a(5346).Z)("eafc584c",n,!0,{})},3297:(t,e,a)=>{var n=a(8060);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals),(0,a(5346).Z)("326a1922",n,!0,{})},9451:(t,e,a)=>{var n=a(8143);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals),(0,a(5346).Z)("983f0c2c",n,!0,{})},9313:(t,e,a)=>{var n=a(2716);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals),(0,a(5346).Z)("72645e9c",n,!0,{})},2946:(t,e,a)=>{var n=a(9278);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals),(0,a(5346).Z)("a92008e8",n,!0,{})},7178:(t,e,a)=>{var n=a(2028);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals),(0,a(5346).Z)("2021527b",n,!0,{})},4233:(t,e,a)=>{var n=a(6889);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals),(0,a(5346).Z)("41e6bd6e",n,!0,{})},175:(t,e,a)=>{var n=a(8238);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals),(0,a(5346).Z)("bfaa659a",n,!0,{})},92:(t,e,a)=>{var n=a(1210);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals),(0,a(5346).Z)("081b66e2",n,!0,{})},9029:(t,e,a)=>{var n=a(8668);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals),(0,a(5346).Z)("3ad69aea",n,!0,{})},1878:(t,e,a)=>{var n=a(6090);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals),(0,a(5346).Z)("3a29354c",n,!0,{})},1391:(t,e,a)=>{var n=a(4309);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals),(0,a(5346).Z)("39937ee4",n,!0,{})}}]);
//# sourceMappingURL=703.formater-metadata-vjs.js.map
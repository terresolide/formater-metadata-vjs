(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{272:function(t,e,n){var a=n(281);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals),(0,n(3).default)("0fcdb10f",a,!0,{})},273:function(t,e){t.exports=function(t){t.options.__i18n='{"en":{},"fr":{}}'}},274:function(t,e,n){var a=n(284);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals),(0,n(3).default)("0c9fcd32",a,!0,{})},275:function(t,e){t.exports=function(t){t.options.__i18n='{"en":{"resource_contact":"Resource Contact | Resource Contacts","metadata_contact":"Metadata Contact | Metadata Contacts"},"fr":{"resource_contact":"Contact pour les données| Contacts pour les données","metadata_contact":"Contact pour les métadonnées | Contacts pour les métadonnées"}}'}},276:function(t,e,n){var a=n(287);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals),(0,n(3).default)("25b135e7",a,!0,{})},277:function(t,e,n){var a=n(289);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals),(0,n(3).default)("36d00ec7",a,!0,{})},278:function(t,e,n){var a=n(291);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals),(0,n(3).default)("15d371a7",a,!0,{})},279:function(t,e){t.exports=function(t){t.options.__i18n='{"en":{"main":"Decription","complement":"Others informations","temporal_extent":"Temporal extent"},"fr":{"main":"Decription","complement":"Informations complémentaires","temporal_extent":"Etendue temporelle"}}'}},280:function(t,e,n){"use strict";var a=n(272);n.n(a).a},281:function(t,e,n){(t.exports=n(2)(!1)).push([t.i,"\n.formater-contact{\n  font-size: 1em;\n  max-width:300px;\n  min-width:250px;\n  margin: 5px 10px;\n  float:left;\n}\n.formater-contact h3 {\n\tmargin-bottom: 0px;\n}\n.formater-contact h3 + div {\n  margin-left:24px;\n  margin-bottom: 5px;\n}\n.formater-contact .formater-address{\n  margin-left:20px;\n}\n.formater-contact .formater-organism{\n  font-weight: 800;\n}\n",""])},282:function(t,e,n){"use strict";var a=n(273),o=n.n(a);e.default=o.a},283:function(t,e,n){"use strict";var a=n(274);n.n(a).a},284:function(t,e,n){(t.exports=n(2)(!1)).push([t.i,"\n.mtdt-metadata .fmt-contacts h3{\n    margin-bottom:0;\n}\n\n",""])},285:function(t,e,n){"use strict";var a=n(275),o=n.n(a);e.default=o.a},286:function(t,e,n){"use strict";var a=n(276);n.n(a).a},287:function(t,e,n){(t.exports=n(2)(!1)).push([t.i,"\n.mtdt-quicklooks{\n  position: relative;\n   float:left;\n   max-width: 340px;\n   max-height:260px;\n   background: #ddd;\n   margin: 0px 15px 10px 0;\n}\n.mtdt-quicklooks div.wrapper{\n   text-align:center;\n   max-width: 340px;\n   max-height:260px;\n   line-height:260px;\n   margin:auto;\n   width: 340px;\n   height: 260px;\n}\n.mtdt-quicklooks div.wrapper div{\n  display:none;\n}\n.mtdt-quicklooks div.wrapper .selected{\n  display:inline-block;\n  text-align:center;\n  vertical-align: middle;\n  margin:auto;\n}\n.mtdt-quicklooks img{\n  width:100%;\n  max-width:320px;\n  max-height:260px;\n  display:block;\n  vertical-align:middle;\n}\n.mtdt-quicklooks .fa-chevron-circle-right,\n.mtdt-quicklooks .fa-chevron-circle-left{\n  position: absolute;\n  font-size:40px;\n  top: 110px;\n  z-index:1;\n  opacity:0;\n}\n.mtdt-quicklooks:hover .fa {\n   opacity:0.3\n}\n.mtdt-quicklooks .fa-chevron-circle-right:hover,\n.mtdt-quicklooks .fa-chevron-circle-left:hover{\n  opacity: 0.7;\n}\n.mtdt-metadata .mtdt-quicklooks .fa-chevron-circle-right{\n  right:1px;\n  margin-right:0;\n}\n.mtdt-metadata .mtdt-quicklooks .fa-chevron-circle-left{\n  left:1px;\n  margin-left:0;\n}\n",""])},288:function(t,e,n){"use strict";var a=n(277);n.n(a).a},289:function(t,e,n){(t.exports=n(2)(!1)).push([t.i,"\n.mtdt-export-links{\n  float:right;\n  margin-right:5px;\n}\n.mtdt-tab-export{\n  min-width: 80px;\n  text-align:center;\n}\n.mtdt-export-links div.mtdt-expand{\n  display: none;\n  text-align: center;\n  position:absolute;\n  min-width:102px;\n}\n.mtdt-export-links div.mtdt-expand div{\n   line-height:2;\n   padding: 3px 0;\n   background: #eee;\n   border:1px dotted grey;\n   border-top:0px;\n}\n.mtdt-export-links a{\n   color: black;\n   text-decoration:none;\n}\n.mtdt-export-links div.mtdt-expand div:hover{\n   background: #ccc;\n}\n.mtdt-tab-export:hover + div.mtdt-expand,\ndiv.mtdt-expand:hover{\n  display: block;\n}\n",""])},290:function(t,e,n){"use strict";var a=n(278);n.n(a).a},291:function(t,e,n){(t.exports=n(2)(!1)).push([t.i,"\n.mtdt-metadata{\n  position:relative;\n  padding: 10px;\n  max-width: 100%;\n  margin: auto;\n  height: auto;\n  overflow: hidden;\n}\n.mtdt-metadata span.mtdt-metadata-close{\n  position: absolute;\n  top:3px;\n  right:5px;\n  cursor: pointer;\n  opacity:0.5;\n}\n.mtdt-metadata span.mtdt-metadata-close:hover{\n  opacity:1;\n}\n.mtdt-metadata h1.mtdt-metadata-header div{\n  float:left;\n  max-width:calc(100% - 150px);\n  display:inline-block;\n}\n.mtdt-metadata h1.mtdt-metadata-header i.fa{\n  float:left;\n}\n.mtdt-metadata i.fa {\n  margin-right: 12px;\n}\n.mtdt-metadata h1,\n.mtdt-metadata h2,\n.mtdt-metadata h3,\n.mtdt-metadata h4{\n    max-width: 100%;\n    color:#754a15;\n}\n.mtdt-metadata h2 {\n\n  font-size: 1.2rem;\n  margin-bottom:0;\n}\n.mtdt-metadata h1{\n  font-size:1.5rem;\n}\n.mtdt-metadata div.mtdt-tab,\n.mtdt-metadata .mtdt-tab-export{\n  display:inline-block;\n  padding: 5px 10px;\n  border:1px dotted grey;\n  border-top:0px;\n  background: #eee;\n  cursor: pointer;\n}\n.mtdt-metadata div.mtdt-tab:hover,\n.mtdt-metadata .mtdt-tab-export:hover{\n   background: #ccc;\n}\n.mtdt-metadata div.mtdt-tab.selected{\n  background: #ddd;\n}\n.mtdt-metadata div.mtdt-description{\n  line-height:1.5;\n}\n.mtdt-metadata .mtdt-group-logo{\n    float:right;\n    margin-top:-5px;\n}\n.mtdt-metadata .mtdt-group-logo img{\n\tmax-width:100px; \n\theight:40px;\n}\n.mtdt-metadata .mtdt-contacts h3{\n    margin-bottom:0;\n}\n.mtdt-metadata .mtdt-temporalExtent div{\n  margin: 5px 30px;\n}\n.mtdt-metadata .mtdt-temporalExtent i.fa.fa-long-arrow-right {\n  margin-left:12px;\n}\n",""])},292:function(t,e,n){"use strict";var a=n(279),o=n.n(a);e.default=o.a},293:function(t,e,n){"use strict";n.r(e);var a={name:"FormaterContact",components:{},props:{contact:{type:Array,default:[]},lang:{type:String,default:"en"}},watch:{lang:function(t){this.$i18n.locale=t,this.$setGnLocale(this.lang)},contact:function(t){console.log(t)}},data:function(){return{fields:null}},mounted:function(){console.log(this.contact),this.fields=this.contact,this.$i18n.locale=this.lang,this.$setGnLocale(this.lang)},methods:{}},o=(n(280),n(1)),s=n(282),i=Object(o.a)(a,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.fields?n("span",{staticClass:"formater-contact"},[n("div",{staticClass:"formater-address"},[n("div",{staticClass:"formater-organism"},[t._v(t._s(t.fields[2]))]),t._v(" "),t.fields[3]?n("div",{staticClass:"formater-name"},[t._v(t._s(t.fields[3]))]):t._e(),t._v(" "),n("div",{staticClass:"formater-email"},[t._v(t._s(t.fields[4]))])])]):t._e()},[],!1,null,null,null);"function"==typeof s.default&&Object(s.default)(i);var r={name:"FormaterListContact",components:{FormaterContact:i.exports},props:{lang:{type:String,default:"en"},responsibleParty:{type:Array,default:function(){return[]}},responsibleParty2:{type:Array,default:function(){return[]}}},watch:{lang:function(t){this.$i18n.locale=t},responsibleParty2:function(t){this.updateContacts(t)}},data:function(){return{contacts:{metadata:{},resource:{}}}},created:function(){this.$i18n.locale=this.lang,this.$setGnLocale(this.lang),this.updateContacts(this.responsibleParty),this.updateContacts(this.responsibleParty2)},methods:{updateContacts:function(t){var e=this;t.forEach(function(t){var n=t.split("|");"metadata"===n[1]||"metadonnées"===n[1]?e.contacts.metadata[n[0]]?e.contacts.metadata[n[0]].push(n):e.contacts.metadata[n[0]]=[n]:e.contacts.resource[n[0]]?e.contacts.resource[n[0]].push(n):e.contacts.resource[n[0]]=[n]})}}},c=(n(283),n(285)),l=Object(o.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.responsibleParty||t.responsibleParty2?n("div",{staticClass:"mtdt-list-contact"},[t.contacts.resource?n("div",{staticClass:"mtdt-contacts"},[n("h2",[n("i",{staticClass:"fa fa-users"}),t._v(t._s(t.$tc("resource_contact",Object.keys(t.contacts.resource).length)))]),t._v(" "),t._l(t.contacts.resource,function(e,a){return n("div",{key:a,staticStyle:{float:"left"}},[n("h3",[n("i",{staticClass:"fa fa-user"}),t._v(t._s(t.$gn(a)))]),t._v(" "),t._l(e,function(e,a){return n("formater-contact",{key:a,attrs:{contact:e,lang:t.lang}})})],2)}),t._v(" "),n("div",{staticStyle:{clear:"both"}})],2):t._e(),t._v(" "),t.contacts.metadata?n("div",{staticClass:"mtdt-contacts"},[n("h2",[n("i",{staticClass:"fa fa-users"}),t._v(t._s(t.$tc("metadata_contact",Object.keys(t.contacts.metadata).length)))]),t._v(" "),t._l(t.contacts.metadata,function(e,a){return n("div",{key:a},[n("h3",[n("i",{staticClass:"fa fa-user"}),t._v(t._s(t.$gn(a)))]),t._v(" "),t._l(e,function(e,a){return n("formater-contact",{key:a,attrs:{contact:e,lang:t.lang}})})],2)})],2):t._e()]):t._e()},[],!1,null,null,null);"function"==typeof c.default&&Object(c.default)(l);var d,m=l.exports,p={name:"FormaterQuicklooks",components:{},props:{quicklooks:{type:String|Array,default:null}},data:function(){return{images:null,selected:0}},mounted:function(){this.images=this.quicklooks}},u=(n(286),Object(o.a)(p,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.images?n("span",{staticClass:"mtdt-quicklooks"},[t.selected>0?n("i",{staticClass:"fa fa-chevron-circle-left",on:{click:function(e){t.selected-=1}}}):t._e(),t._v(" "),t.images.length>0&&t.selected<t.images.length-1?n("i",{staticClass:"fa fa-chevron-circle-right",on:{click:function(e){t.selected+=1}}}):t._e(),t._v(" "),n("div",{staticClass:"wrapper"},t._l(t.images,function(e,a){return n("div",{key:a,class:{selected:t.selected===a}},[n("img",{attrs:{src:e[1],alt:e[2]}})])}),0)]):t._e()},[],!1,null,null,null).exports),f={name:"FormaterExportLinks",components:{},props:{uuid:{type:String,default:null},lang:{type:String,default:"en"}},data:function(){return{xml:null,pdf:null}},mounted:function(){console.log("mounted"),this.$setGnLocale(this.lang),this.xml="http://demo.formater/geonetwork/srv/api/records/"+this.uuid+"/formatters/xml?attachment=true",this.pdf="http://demo.formater/geonetwork/srv/api/records/"+this.uuid+"/formatters/xsl-view?root=div&output=pdf",console.log(this.$gnLang)}},h=(n(288),Object(o.a)(f,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"mtdt-export-links"},[n("div",{staticClass:"mtdt-tab-export"},[n("i",{staticClass:"fa fa-chevron-down"}),t._v(" "),n("span",{},[t._v(t._s(t.$gn("export")))])]),t._v(" "),n("div",{staticClass:"mtdt-expand"},[n("div",[n("a",{attrs:{href:t.xml}},[t._v(t._s(t.$gn("exportXML")))])]),t._v(" "),n("div",[n("a",{attrs:{href:t.pdf,target:"_blank"}},[t._v(t._s(t.$gn("exportPDF")))])])])])},[],!1,null,null,null).exports),g=n(0),v=n.n(g);function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _=(x(d={name:"FormaterMetadata",components:{FormaterListContact:m,FormaterQuicklooks:u,FormaterExportLinks:h,FormaterPaging:function(){return Promise.resolve().then(n.bind(null,199))},FormaterListMetadata:function(){return Promise.resolve().then(n.bind(null,198))}},props:{lang:{type:String,default:"en"},metadata:{type:Object,default:null},depth:{type:Number,default:0},nbRecords:{type:Number,default:4}},watch:{lang:function(t){this.$i18n.locale=t,this.srv="http://demo.formater/geonetwork/srv/"+("fr"===t?"fre":"eng")+"/",this.headers["Accept-Language"]="fr"===t?"fre":"eng"},metadata:{immediate:!0,handler:function(t){console.log("dans metadata"),console.log(t)}}},data:function(){return{tabs:{main:!0,complement:!1,quality:!1},uuid:null,currentTab:"main",meta:null,hasChild:!1,metaLang2:{},popstateListener:null,keydownListener:null,srv:"http://demo.formater/geonetwork/srv/"+("fr"===this.lang?"fre":"eng")+"/",api:"http://demo.formater/geonetwork//srv/api/",headers:{Accept:"application/json, text/plain, */*","Accept-Language":"fr"===this.lang?"fre":"eng"},parameters:{}}},created:function(){this.$i18n.locale=this.lang,this.$setGnLocale(this.lang),v.a.locale(this.lang),this.uuid=this.metadata["geonet:info"].uuid,this.popstateListener=this.close.bind(this),document.addEventListener("popstate",this.popstateListener),this.keydownListener=this.checkEscape.bind(this),document.addEventListener("keydown",this.keydownListener)}},"watch",{meta:{handler:function(t){t.related&&t.related.children?(this.$set(this.tabs,"complement",!0),this.hasChild||(this.getRecords(),this.hasChild=!0)):this.$set(this.tabs,"complement",!1)}}}),x(d,"mounted",function(){this.metadata&&(this.meta=this.metadata,this.fillMetadata())}),x(d,"destroyed",function(){document.removeEventListener("popstate",this.popstateListener),this.popstateListener=null,document.removeEventListener("keydown",this.keydownListener),this.keydownListener=this.checkEscape.bind(this)}),x(d,"methods",{date2str:function(t){return v()(t,"YYYY-MM-DD").format("ll")},checkEscape:function(t){("key"in(t=t||window.event)?"Escape"===t.key||"Esc"===t.key:27===t.keyCode)&&this.close(t)},close:function(t){t.preventDefault(),this.$emit("close")},fillMetadata:function(){if(this.uuid=this.meta["geonet:info"].uuid,this.meta._locale!==this.meta.docLocale){var t="http://demo.formater/geonetwork/srv/"+this.meta.docLocale+"/q?_content_type=json&fast=index&uuid="+this.uuid,e=this;this.$http.get(t).then(function(t){console.log(t.body),e.metaLang2=t.body.metadata}),this.searchOnlines(),this.meta.related&&this.meta.related.children&&(this.hasChild=!0,this.getRecords())}},searchOnlines:function(){this.metadatas&&this.lang},getRecords:function(){}}),d),b=(n(290),n(292)),k=Object(o.a)(_,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mtdt-metadata mtdt-capsule"},[n("span",{staticClass:"mtdt-metadata-close fa fa-close",on:{click:t.close}}),t._v(" "),t.meta?n("div",[n("h1",{staticClass:"mtdt-metadata-header"},[t.meta.groupWebsite?n("a",{staticClass:"mtdt-group-logo",attrs:{href:t.meta.groupWebsite,title:t.$gn("group-"+t.meta.groupOwner),starget:"_blank"}},[n("img",{attrs:{src:t.meta.logo}})]):n("a",{staticClass:"mtdt-group-logo",attrs:{href:"#",alt:t.$gn("group-"+t.meta.groupOwner),title:t.$gn("group-"+t.meta.groupOwner)}},[n("img",{attrs:{src:t.meta.logo}})]),t._v(" "),["dataset","series"].indexOf(t.meta.type)>=0?n("i",{staticClass:"fa",class:"series"===t.meta.type?"fa-files-o":"fa-file"}):t._e(),t._v(" "),n("div",[t._v("\n          \n          "+t._s(t.meta.title?t.meta.title:t.meta.defaultTitle)+"\n          ")])]),t._v(" "),n("hr",{staticStyle:{border:"1px solid grey","margin-bottom":"0px",clear:"both"}}),t._v(" "),n("div",{staticClass:"mtdt-tabs"},[t._l(t.tabs,function(e,a){return!0===e?n("div",{staticClass:"mtdt-tab",class:{selected:t.currentTab===a},on:{click:function(e){t.currentTab=a}}},[t._v(t._s(t.$t(a)))]):t._e()}),t._v(" "),t.uuid?n("formater-export-links",{attrs:{uuid:t.uuid}}):t._e()],2),t._v(" "),"main"===t.currentTab?n("div",{staticStyle:{"margin-top":"20px"}},[n("div",{staticClass:"mtdt-description"},[n("formater-quicklooks",{attrs:{quicklooks:t.meta.images}}),t._v(" "),n("span",{domProps:{innerHTML:t._s(t.meta.description)}})],1),t._v(" "),t.meta.tempExtentBegin?n("div",{staticClass:"mtdt-temporalExtent",staticStyle:{clear:"both"}},[n("h2",[n("i",{staticClass:"fa fa-clock-o"}),t._v(t._s(t.$t("temporal_extent")))]),t._v(" "),n("div",[t._v("\n\t\t\t    "+t._s(t.date2str(t.meta.tempExtentBegin))+"\n\t\t\t    "),n("i",{staticClass:"fa fa-long-arrow-right"}),t._v("\n\t\t\t    "+t._s(t.date2str(t.meta.tempExtentEnd))+"\n\t\t\t")])]):t._e(),t._v(" "),t.tabs.complement?n("div",[n("formater-paging",{attrs:{lang:t.lang,"nb-record":t.nbRecords,depth:t.depth+1}}),t._v(" "),n("formater-list-metadata",{attrs:{lang:t.lang,depth:t.depth+1}})],1):n("div",[n("formater-list-contact",{attrs:{lang:t.lang,"responsible-party":t.meta.responsibleParty,"responsible-party2":t.metaLang2.responsibleParty}})],1)]):t._e(),t._v(" "),"complement"===t.currentTab?n("div",[n("formater-list-contact",{attrs:{lang:t.lang,"responsible-party":t.meta.responsibleParty,"responsible-party2":t.metaLang2.responsibleParty}})],1):t._e(),t._v(" "),"quality"===t.currentTab?n("div",[n("formater-list-contact",{attrs:{lang:t.lang,"responsible-party":t.meta.responsibleParty,"responsible-party2":t.metaLang2.responsibleParty}})],1):t._e()]):t._e()])},[],!1,null,null,null);"function"==typeof b.default&&Object(b.default)(k),e.default=k.exports}}]);
//# sourceMappingURL=1.formater-metadata-vjs_0.2.0.js.map